<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Structural Equation Modelling and mediation | R Essentials: a Practical Step-by-Step Guide to Data Cleaning, Stunning Visuals, and Analytic Insights</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Structural Equation Modelling and mediation | R Essentials: a Practical Step-by-Step Guide to Data Cleaning, Stunning Visuals, and Analytic Insights" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Structural Equation Modelling and mediation | R Essentials: a Practical Step-by-Step Guide to Data Cleaning, Stunning Visuals, and Analytic Insights" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Gillian Debra" />


<meta name="date" content="2025-03-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="anova.html"/>
<link rel="next" href="missing-data-and-multiple-imputation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Delighted to have you!<br>Welcome to:</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-to-expect"><i class="fa fa-check"></i>What to expect</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#packages-and-r-version"><i class="fa fa-check"></i>Packages and R version</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="loading-datafiles.html"><a href="loading-datafiles.html"><i class="fa fa-check"></i><b>1</b> Loading datafiles</a>
<ul>
<li class="chapter" data-level="1.1" data-path="loading-datafiles.html"><a href="loading-datafiles.html#working-directory"><i class="fa fa-check"></i><b>1.1</b> Working directory</a></li>
<li class="chapter" data-level="1.2" data-path="loading-datafiles.html"><a href="loading-datafiles.html#loading-different-types-of-data-files"><i class="fa fa-check"></i><b>1.2</b> Loading different types of data files</a></li>
<li class="chapter" data-level="1.3" data-path="loading-datafiles.html"><a href="loading-datafiles.html#loading-multiple-files-same-extension-at-once"><i class="fa fa-check"></i><b>1.3</b> Loading multiple files (same extension) at once</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="communicate-with-others-a-quick-glance-at-r-projects-and-r-markdown.html"><a href="communicate-with-others-a-quick-glance-at-r-projects-and-r-markdown.html"><i class="fa fa-check"></i><b>2</b> Communicate with others: a quick glance at R projects and R markdown</a>
<ul>
<li class="chapter" data-level="2.1" data-path="communicate-with-others-a-quick-glance-at-r-projects-and-r-markdown.html"><a href="communicate-with-others-a-quick-glance-at-r-projects-and-r-markdown.html#r-projects"><i class="fa fa-check"></i><b>2.1</b> R projects</a></li>
<li class="chapter" data-level="2.2" data-path="communicate-with-others-a-quick-glance-at-r-projects-and-r-markdown.html"><a href="communicate-with-others-a-quick-glance-at-r-projects-and-r-markdown.html#r-markdown-brief"><i class="fa fa-check"></i><b>2.2</b> R Markdown (brief)</a></li>
<li class="chapter" data-level="" data-path="communicate-with-others-a-quick-glance-at-r-projects-and-r-markdown.html"><a href="communicate-with-others-a-quick-glance-at-r-projects-and-r-markdown.html#a-heading-level-two"><i class="fa fa-check"></i>A heading (level two)</a>
<ul>
<li class="chapter" data-level="" data-path="communicate-with-others-a-quick-glance-at-r-projects-and-r-markdown.html"><a href="communicate-with-others-a-quick-glance-at-r-projects-and-r-markdown.html#another-heading-level-three"><i class="fa fa-check"></i>Another heading (level three)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html"><i class="fa fa-check"></i><b>3</b> Data cleaning and descriptive statistics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#access-different-parts-of-a-dataset"><i class="fa fa-check"></i><b>3.1</b> Access different parts of a dataset</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#viewing-the-data"><i class="fa fa-check"></i><b>3.1.1</b> Viewing the data</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#several-examples"><i class="fa fa-check"></i><b>3.1.2</b> Several examples</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#mathematical-calculations-in-r"><i class="fa fa-check"></i><b>3.2</b> Mathematical calculations in R</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#sum"><i class="fa fa-check"></i><b>3.2.1</b> Sum</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#average"><i class="fa fa-check"></i><b>3.2.2</b> Average</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#variance-standard-deviation-and-correlations"><i class="fa fa-check"></i><b>3.2.3</b> Variance, standard deviation, and correlations</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#other-calculations-and-the-describe-function"><i class="fa fa-check"></i><b>3.2.4</b> Other calculations and the describe function(!)</a></li>
<li class="chapter" data-level="3.2.5" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#what-if-there-are-missing-values"><i class="fa fa-check"></i><b>3.2.5</b> What if there are missing values?</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#correlation-matrices-and-visualisation"><i class="fa fa-check"></i><b>3.3</b> Correlation matrices and visualisation</a></li>
<li class="chapter" data-level="3.4" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#dplyr-a-more-modern-approach-to-shape-data-."><i class="fa fa-check"></i><b>3.4</b> Dplyr, a more modern approach to shape data (!).</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#dplyr-filter"><i class="fa fa-check"></i><b>3.4.1</b> Dplyr: Filter</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#dplyr-select"><i class="fa fa-check"></i><b>3.4.2</b> Dplyr: Select</a></li>
<li class="chapter" data-level="3.4.3" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#dplyr-mutate"><i class="fa fa-check"></i><b>3.4.3</b> Dplyr: Mutate</a></li>
<li class="chapter" data-level="3.4.4" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#dplyr-arrange"><i class="fa fa-check"></i><b>3.4.4</b> Dplyr: Arrange</a></li>
<li class="chapter" data-level="3.4.5" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#dplyr-group_by-and-summarize"><i class="fa fa-check"></i><b>3.4.5</b> Dplyr: Group_by and Summarize</a></li>
<li class="chapter" data-level="3.4.6" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#dplyr-join"><i class="fa fa-check"></i><b>3.4.6</b> Dplyr: Join</a></li>
<li class="chapter" data-level="3.4.7" data-path="data-cleaning-and-descriptive-statistics.html"><a href="data-cleaning-and-descriptive-statistics.html#practical-example-data-shapingcleaning"><i class="fa fa-check"></i><b>3.4.7</b> Practical example data shaping/cleaning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>4</b> Data visualisation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-visualisation.html"><a href="data-visualisation.html#the-language-of-ggplot"><i class="fa fa-check"></i><b>4.1</b> The language of ggplot</a></li>
<li class="chapter" data-level="4.2" data-path="data-visualisation.html"><a href="data-visualisation.html#plotting-various-graphs."><i class="fa fa-check"></i><b>4.2</b> Plotting various graphs.</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-visualisation.html"><a href="data-visualisation.html#histogram"><i class="fa fa-check"></i><b>4.2.1</b> Histogram</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-visualisation.html"><a href="data-visualisation.html#density-plots"><i class="fa fa-check"></i><b>4.2.2</b> Density plots</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-visualisation.html"><a href="data-visualisation.html#violin-plots"><i class="fa fa-check"></i><b>4.2.3</b> Violin plots</a></li>
<li class="chapter" data-level="4.2.4" data-path="data-visualisation.html"><a href="data-visualisation.html#split-violin-plots"><i class="fa fa-check"></i><b>4.2.4</b> Split violin plots</a></li>
<li class="chapter" data-level="4.2.5" data-path="data-visualisation.html"><a href="data-visualisation.html#bar-graphs"><i class="fa fa-check"></i><b>4.2.5</b> Bar graphs</a></li>
<li class="chapter" data-level="4.2.6" data-path="data-visualisation.html"><a href="data-visualisation.html#piecharts"><i class="fa fa-check"></i><b>4.2.6</b> Piecharts</a></li>
<li class="chapter" data-level="4.2.7" data-path="data-visualisation.html"><a href="data-visualisation.html#scatter-plots"><i class="fa fa-check"></i><b>4.2.7</b> Scatter plots</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-visualisation.html"><a href="data-visualisation.html#how-to-customize-your-plots"><i class="fa fa-check"></i><b>4.3</b> How to customize your plots</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#changing-the-theme-colors-fonts-combining-plots-and-adding-p-value-indications"><i class="fa fa-check"></i><b>4.3.1</b> changing the theme, colors, fonts, combining plots, and adding p-value indications</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-visualisation.html"><a href="data-visualisation.html#example-1"><i class="fa fa-check"></i><b>4.3.2</b> Example 1</a></li>
<li class="chapter" data-level="4.3.3" data-path="data-visualisation.html"><a href="data-visualisation.html#example-2"><i class="fa fa-check"></i><b>4.3.3</b> Example 2</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-visualisation.html"><a href="data-visualisation.html#interactive-plots"><i class="fa fa-check"></i><b>4.4</b> Interactive plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><i class="fa fa-check"></i><b>5</b> Reliability indicators, Confirmatory Factor Analysis, and Exploratory Factor Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#cronbachs-alpha"><i class="fa fa-check"></i><b>5.1</b> Cronbach’s alpha</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#alpha-by-hand"><i class="fa fa-check"></i><b>5.1.1</b> Alpha by hand</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#omega"><i class="fa fa-check"></i><b>5.2</b> Omega</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#fit-indices-and-how-to-potentially-improve-model-fit"><i class="fa fa-check"></i><b>5.2.1</b> Fit indices and how to potentially improve model fit</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#exploratory-factor-analysis"><i class="fa fa-check"></i><b>5.3</b> Exploratory factor analysis</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#efa-check-multicollinearity"><i class="fa fa-check"></i><b>5.3.1</b> EFA check: multicollinearity</a></li>
<li class="chapter" data-level="5.3.2" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#efa-check-univariatemultivariate-normal-distribution"><i class="fa fa-check"></i><b>5.3.2</b> EFA check: univariate/multivariate normal distribution</a></li>
<li class="chapter" data-level="5.3.3" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#efa-check-univariatemultivariate-outliers"><i class="fa fa-check"></i><b>5.3.3</b> EFA check: univariate/multivariate outliers</a></li>
<li class="chapter" data-level="5.3.4" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#efa-how-many-factors"><i class="fa fa-check"></i><b>5.3.4</b> EFA: how many factors?</a></li>
<li class="chapter" data-level="5.3.5" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#efa-example"><i class="fa fa-check"></i><b>5.3.5</b> EFA example</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html"><a href="reliability-indicators-confirmatory-factor-analysis-and-exploratory-factor-analysis.html#referred-article"><i class="fa fa-check"></i><b>5.4</b> Referred article</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="regression-analysis.html"><a href="regression-analysis.html"><i class="fa fa-check"></i><b>6</b> Regression analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="regression-analysis.html"><a href="regression-analysis.html#regression-models-and-things-to-consider"><i class="fa fa-check"></i><b>6.1</b> Regression models and things to consider</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="regression-analysis.html"><a href="regression-analysis.html#the-language-of-regression-models"><i class="fa fa-check"></i><b>6.1.1</b> The language of regression models</a></li>
<li class="chapter" data-level="6.1.2" data-path="regression-analysis.html"><a href="regression-analysis.html#long-to-wide-format-and-vice-versa"><i class="fa fa-check"></i><b>6.1.2</b> Long to wide format and vice versa</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="regression-analysis.html"><a href="regression-analysis.html#simple-linear-regression-using-a-general-linear-model"><i class="fa fa-check"></i><b>6.2</b> (Simple) linear regression using a general linear model</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="regression-analysis.html"><a href="regression-analysis.html#interaction-terms-johnson-neyman-intervals-and-simple-slopes"><i class="fa fa-check"></i><b>6.2.1</b> Interaction terms, Johnson-Neyman intervals, and simple slopes</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="regression-analysis.html"><a href="regression-analysis.html#simple-generalized-linear-models"><i class="fa fa-check"></i><b>6.3</b> Simple generalIZED linear models</a></li>
<li class="chapter" data-level="6.4" data-path="regression-analysis.html"><a href="regression-analysis.html#mixed-effects-model"><i class="fa fa-check"></i><b>6.4</b> Mixed effects model</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="regression-analysis.html"><a href="regression-analysis.html#fixed-and-random-effects"><i class="fa fa-check"></i><b>6.4.1</b> Fixed and random effects</a></li>
<li class="chapter" data-level="6.4.2" data-path="regression-analysis.html"><a href="regression-analysis.html#intraclass-correlationvariance-partition"><i class="fa fa-check"></i><b>6.4.2</b> Intraclass correlation/variance partition</a></li>
<li class="chapter" data-level="6.4.3" data-path="regression-analysis.html"><a href="regression-analysis.html#random-slopes"><i class="fa fa-check"></i><b>6.4.3</b> Random slopes</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="regression-analysis.html"><a href="regression-analysis.html#model-assumptions"><i class="fa fa-check"></i><b>6.5</b> Model assumptions</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="regression-analysis.html"><a href="regression-analysis.html#assumptions-linear-regression-not-multilevel"><i class="fa fa-check"></i><b>6.5.1</b> Assumptions: Linear regression (not multilevel)</a></li>
<li class="chapter" data-level="6.5.2" data-path="regression-analysis.html"><a href="regression-analysis.html#assumptions-multilevel-linear-regression"><i class="fa fa-check"></i><b>6.5.2</b> Assumptions: Multilevel linear regression</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="regression-analysis.html"><a href="regression-analysis.html#effect-sizes"><i class="fa fa-check"></i><b>6.6</b> Effect sizes</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="regression-analysis.html"><a href="regression-analysis.html#standardized-beta-coefficients-and-r²"><i class="fa fa-check"></i><b>6.6.1</b> Standardized beta coefficients and R²</a></li>
<li class="chapter" data-level="6.6.2" data-path="regression-analysis.html"><a href="regression-analysis.html#in-case-of-mixed-effects-models"><i class="fa fa-check"></i><b>6.6.2</b> In case of mixed-effects models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="anova.html"><a href="anova.html"><i class="fa fa-check"></i><b>7</b> Anova</a>
<ul>
<li class="chapter" data-level="7.1" data-path="anova.html"><a href="anova.html#sum-and-treatment-contrasts"><i class="fa fa-check"></i><b>7.1</b> Sum and Treatment Contrasts</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="anova.html"><a href="anova.html#dummy-coding"><i class="fa fa-check"></i><b>7.1.1</b> Dummy-coding</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="anova.html"><a href="anova.html#one-way-anova"><i class="fa fa-check"></i><b>7.2</b> One-way ANOVA</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="anova.html"><a href="anova.html#post-hoc-group-comparisons"><i class="fa fa-check"></i><b>7.2.1</b> Post-hoc group-comparisons</a></li>
<li class="chapter" data-level="7.2.2" data-path="anova.html"><a href="anova.html#making-your-own-specific-hypotheses-and-contrasts."><i class="fa fa-check"></i><b>7.2.2</b> Making your own specific hypotheses and contrasts.</a></li>
<li class="chapter" data-level="7.2.3" data-path="anova.html"><a href="anova.html#effect-sizes-1"><i class="fa fa-check"></i><b>7.2.3</b> Effect sizes</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="anova.html"><a href="anova.html#two-way-anova"><i class="fa fa-check"></i><b>7.3</b> Two-way ANOVA</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="anova.html"><a href="anova.html#four-different-types-of-anova"><i class="fa fa-check"></i><b>7.3.1</b> Four different types of ANOVA</a></li>
<li class="chapter" data-level="7.3.2" data-path="anova.html"><a href="anova.html#two-way-anova-post-hoc-comparisons"><i class="fa fa-check"></i><b>7.3.2</b> Two-way ANOVA: Post-hoc comparisons</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="anova.html"><a href="anova.html#manova"><i class="fa fa-check"></i><b>7.4</b> MANOVA</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="anova.html"><a href="anova.html#practical-example-manova-two-outcome-variables"><i class="fa fa-check"></i><b>7.4.1</b> Practical example Manova: two outcome variables</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="anova.html"><a href="anova.html#referred-article-1"><i class="fa fa-check"></i><b>7.5</b> Referred article</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="structural-equation-modelling-and-mediation.html"><a href="structural-equation-modelling-and-mediation.html"><i class="fa fa-check"></i><b>8</b> <strong>Structural Equation Modelling and mediation</strong></a>
<ul>
<li class="chapter" data-level="8.1" data-path="structural-equation-modelling-and-mediation.html"><a href="structural-equation-modelling-and-mediation.html#basic-mediation"><i class="fa fa-check"></i><b>8.1</b> Basic mediation</a></li>
<li class="chapter" data-level="8.2" data-path="structural-equation-modelling-and-mediation.html"><a href="structural-equation-modelling-and-mediation.html#basic-example"><i class="fa fa-check"></i><b>8.2</b> Basic example</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="structural-equation-modelling-and-mediation.html"><a href="structural-equation-modelling-and-mediation.html#visualize-your-path-diagrams"><i class="fa fa-check"></i><b>8.2.1</b> Visualize your : path diagrams</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="structural-equation-modelling-and-mediation.html"><a href="structural-equation-modelling-and-mediation.html#moderated-mediation"><i class="fa fa-check"></i><b>8.3</b> Moderated mediation</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="structural-equation-modelling-and-mediation.html"><a href="structural-equation-modelling-and-mediation.html#on-all-pathways"><i class="fa fa-check"></i><b>8.3.1</b> On all pathways</a></li>
<li class="chapter" data-level="8.3.2" data-path="structural-equation-modelling-and-mediation.html"><a href="structural-equation-modelling-and-mediation.html#using-a-continuous-moderator"><i class="fa fa-check"></i><b>8.3.2</b> Using a continuous moderator</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="missing-data-and-multiple-imputation.html"><a href="missing-data-and-multiple-imputation.html"><i class="fa fa-check"></i><b>9</b> Missing data and multiple imputation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="missing-data-and-multiple-imputation.html"><a href="missing-data-and-multiple-imputation.html#missing-data"><i class="fa fa-check"></i><b>9.1</b> Missing data</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="missing-data-and-multiple-imputation.html"><a href="missing-data-and-multiple-imputation.html#listwise-deletion-and-single-mean-imputation"><i class="fa fa-check"></i><b>9.1.1</b> Listwise deletion and single (mean) imputation</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="missing-data-and-multiple-imputation.html"><a href="missing-data-and-multiple-imputation.html#multiple-imputation"><i class="fa fa-check"></i><b>9.2</b> Multiple imputation</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="missing-data-and-multiple-imputation.html"><a href="missing-data-and-multiple-imputation.html#before-mice-check-missing-values"><i class="fa fa-check"></i><b>9.2.1</b> before mice: Check missing values</a></li>
<li class="chapter" data-level="9.2.2" data-path="missing-data-and-multiple-imputation.html"><a href="missing-data-and-multiple-imputation.html#mice-decissions-joint-modeling-versus-fully-conditional-specification"><i class="fa fa-check"></i><b>9.2.2</b> mice decissions: joint modeling versus fully conditional specification</a></li>
<li class="chapter" data-level="9.2.3" data-path="missing-data-and-multiple-imputation.html"><a href="missing-data-and-multiple-imputation.html#mice-decisions-number-of-imputations"><i class="fa fa-check"></i><b>9.2.3</b> mice decisions: number of imputations</a></li>
<li class="chapter" data-level="9.2.4" data-path="missing-data-and-multiple-imputation.html"><a href="missing-data-and-multiple-imputation.html#practical-example"><i class="fa fa-check"></i><b>9.2.4</b> Practical example</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Essentials: a Practical Step-by-Step Guide to Data Cleaning, Stunning Visuals, and Analytic Insights</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="structural-equation-modelling-and-mediation" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> <strong>Structural Equation Modelling and mediation</strong><a href="structural-equation-modelling-and-mediation.html#structural-equation-modelling-and-mediation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Structural Equation Modelling (SEM) can be used to test hypotheses about relations between latent and observed (or at least measured in some way) variables. We have already seen SEM in action when discussing <strong>c</strong>onfirmatory <strong>f</strong>actor <strong>a</strong>nalysis but now I want to end this guide briefly talking about <strong>mediation</strong>. In this part I will discuss</p>
<ol style="list-style-type: decimal">
<li><strong>The basic mediation using the lavaan package</strong></li>
<li><strong>How to visualize results from a mediation using the</strong> <a href="https://cran.r-project.org/web/packages/semPlot/index.html">semPlot package</a></li>
<li><strong>The moderated mediation with categorical and continuous moderators.</strong></li>
</ol>
<div id="basic-mediation" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Basic mediation<a href="structural-equation-modelling-and-mediation.html#basic-mediation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Have you heard about those spurious correlations that arise when you correlate everything with everything? A classic textbook example is the positive correlation between ice cream consumption and drowning. Of course, <strong>correlation is not causation</strong>. So what we have here is a typical “direct” relation between outcome and predictor, which can be represented by a correlation coefficient or a regression coefficient.
<img src="images/Mediation/Mediation_1.png" /></p>
<p>But why does ice cream consumption (predictor) relates to drowning (outcome)? We could reason that this relation was likely brought by other <strong>indirect relations</strong>. Ice cream consumption could be related to another variable, <strong>the mediator</strong>, and this mediator could relate to drowning. Through these “indirect pathways”, ice cream consumption may appear to be associated with drowning. The common explanation is that you tend to eat more ice cream when it is hot. Hot weather can increase susceptibiliy to heatstroke symptoms (the mediator). If you experience heatstroke symptoms when you go for a swim… unfortunate outcomes may occur</p>
<p>Mediation analysis allows us to test to what extent a (direct) relation between variables can be explained by the (indirect) relations with other variables. Do not to confuse <strong>mediation with moderation</strong>, which examines whether the strength of an association depends on other variables. When you learn about mediation, you typically encounter “the triangle” (or trapezium, whatever you prefer):
<img src="images/Mediation/Mediation_2.png" /></p>
<p>Have you noticed that I talk a lot about the “direct” and “indirect” relations? The direct relation (henceforth referred to as <strong>direct effect</strong>) is the relation between predictor(s) and outcome after adjusting for the mediator (which I will denote using <em>beta</em> coefficients). <strong>Indirect effects</strong> is the relation between predictor and outcome <strong>through the mediator</strong> and consists of two parts. First is the association between predictor and the mediator. Second is the association between the mediatior and outcome. Our goal is to determine the extent the mediator explains the direct relation between predictor and outcome.</p>
<p>Before we continue, I want to address a common misconception. At the time of writing this guide, mediation analysis itself <strong>cannot confirm causal relations</strong>. Causality is a methodological issue. My advice would be to look into properly(!) randomized and properly(!) controlled experimental designs for causal inference.</p>
</div>
<div id="basic-example" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Basic example<a href="structural-equation-modelling-and-mediation.html#basic-example" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A mediation analysis typically involves the two steps. <strong>First</strong>, like we did with confirmatory factor analysis, we specify our variables and their relations in a model structure (the SEM model structure).Here, we will need to specify the indirect, direct, and optionally the total effects, as I discuss later on.<strong>Second</strong>, we estimate the model based on our SEM model structure.</p>
<p>I have made a simple dataset and took the liberty to load the lavaan package.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="structural-equation-modelling-and-mediation.html#cb176-1" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb176-2"><a href="structural-equation-modelling-and-mediation.html#cb176-2" tabindex="-1"></a><span class="fu">p_load</span>(lavaan)  </span>
<span id="cb176-3"><a href="structural-equation-modelling-and-mediation.html#cb176-3" tabindex="-1"></a></span>
<span id="cb176-4"><a href="structural-equation-modelling-and-mediation.html#cb176-4" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">54321</span>)</span>
<span id="cb176-5"><a href="structural-equation-modelling-and-mediation.html#cb176-5" tabindex="-1"></a>n <span class="ot">=</span> <span class="dv">250</span>  <span class="co"># Sample size</span></span>
<span id="cb176-6"><a href="structural-equation-modelling-and-mediation.html#cb176-6" tabindex="-1"></a>cor_Y_X <span class="ot">=</span> <span class="fl">0.5</span> <span class="co"># correlation between outcome Y and predictor X </span></span>
<span id="cb176-7"><a href="structural-equation-modelling-and-mediation.html#cb176-7" tabindex="-1"></a>cor_Y_M <span class="ot">=</span> <span class="fl">0.6</span> <span class="co"># correlation between outcome Y and mediator M</span></span>
<span id="cb176-8"><a href="structural-equation-modelling-and-mediation.html#cb176-8" tabindex="-1"></a>cor_X_M <span class="ot">=</span> <span class="fl">0.7</span> <span class="co"># correlation between predictor X and mediator M</span></span>
<span id="cb176-9"><a href="structural-equation-modelling-and-mediation.html#cb176-9" tabindex="-1"></a></span>
<span id="cb176-10"><a href="structural-equation-modelling-and-mediation.html#cb176-10" tabindex="-1"></a>predictor <span class="ot">=</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">20</span>, <span class="at">sd =</span> <span class="dv">5</span>) <span class="co"># Create the predictor</span></span>
<span id="cb176-11"><a href="structural-equation-modelling-and-mediation.html#cb176-11" tabindex="-1"></a>mediator <span class="ot">=</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">15</span>, <span class="at">sd =</span> <span class="dv">3</span>) <span class="sc">+</span> (predictor <span class="sc">*</span> cor_X_M) <span class="co"># Create a mediator that is associated with the above predictor </span></span>
<span id="cb176-12"><a href="structural-equation-modelling-and-mediation.html#cb176-12" tabindex="-1"></a></span>
<span id="cb176-13"><a href="structural-equation-modelling-and-mediation.html#cb176-13" tabindex="-1"></a>mydata <span class="ot">=</span> <span class="fu">data.frame</span>(</span>
<span id="cb176-14"><a href="structural-equation-modelling-and-mediation.html#cb176-14" tabindex="-1"></a>  <span class="at">predictor =</span> predictor,</span>
<span id="cb176-15"><a href="structural-equation-modelling-and-mediation.html#cb176-15" tabindex="-1"></a>  <span class="at">mediator =</span> mediator, </span>
<span id="cb176-16"><a href="structural-equation-modelling-and-mediation.html#cb176-16" tabindex="-1"></a>  <span class="at">outcome =</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">25</span>, <span class="at">sd =</span> <span class="dv">7</span>) <span class="sc">+</span> (mediator <span class="sc">*</span> cor_Y_M) <span class="sc">+</span> (predictor <span class="sc">*</span> cor_Y_X) <span class="co"># Outcome that is associated with both the predictor and mediator</span></span>
<span id="cb176-17"><a href="structural-equation-modelling-and-mediation.html#cb176-17" tabindex="-1"></a>)</span></code></pre></div>
<p>Alright let’s make the SEM model structure. Let’s have a look again at the mediation.
<img src="images/Mediation/Mediation_3.png" /></p>
<p>In essence, we need to model the regressions and define the direct effect and indirect effect.
Notice that we have three regressions: <strong>predictor -&gt; outcome</strong>, <strong>predictor -&gt; mediator</strong>, and <strong>mediator -&gt; outcome</strong>. The direct “effect” reflects the relation between predictor -&gt; outcome. So here our regression coefficient β(PO). For convention with many other work, <strong>I will call this regression coefficient “c”</strong>. The indirect effect is the product between two regression coefficients: β(PM) from the predictor -&gt; mediator regression (<strong>hencefort called “a”</strong>), and β(MO) from the mediator -&gt; outcome regression (<strong>“b”</strong>). If we want, we can also define the <strong>total “effect”</strong> which is <strong>the sum</strong> of the direct and indirect effect.</p>
<p>Note that within my SEM model structure, I use the above letters a,b, and c, to represent my three regression coefficients. I use these letters to give the regression coefficients a name so that I can use them to compute the (in)direct and total effects (e.g., c*predictor will name the regression coefficient β(MO) as “c”).</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="structural-equation-modelling-and-mediation.html#cb177-1" tabindex="-1"></a>mystructure <span class="ot">=</span> <span class="st">&#39;</span></span>
<span id="cb177-2"><a href="structural-equation-modelling-and-mediation.html#cb177-2" tabindex="-1"></a></span>
<span id="cb177-3"><a href="structural-equation-modelling-and-mediation.html#cb177-3" tabindex="-1"></a><span class="st"># Regression outcome - predictor</span></span>
<span id="cb177-4"><a href="structural-equation-modelling-and-mediation.html#cb177-4" tabindex="-1"></a></span>
<span id="cb177-5"><a href="structural-equation-modelling-and-mediation.html#cb177-5" tabindex="-1"></a><span class="st">  outcome ~ c*predictor # with c being the regression coefficient between the two, beta(PM) in my figure</span></span>
<span id="cb177-6"><a href="structural-equation-modelling-and-mediation.html#cb177-6" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb177-7"><a href="structural-equation-modelling-and-mediation.html#cb177-7" tabindex="-1"></a><span class="st"># Indirect relation:</span></span>
<span id="cb177-8"><a href="structural-equation-modelling-and-mediation.html#cb177-8" tabindex="-1"></a></span>
<span id="cb177-9"><a href="structural-equation-modelling-and-mediation.html#cb177-9" tabindex="-1"></a><span class="st">  mediator ~ a*predictor # with a being the regression coefficient, beta(PM)</span></span>
<span id="cb177-10"><a href="structural-equation-modelling-and-mediation.html#cb177-10" tabindex="-1"></a><span class="st">  outcome ~ b*mediator # </span></span>
<span id="cb177-11"><a href="structural-equation-modelling-and-mediation.html#cb177-11" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb177-12"><a href="structural-equation-modelling-and-mediation.html#cb177-12" tabindex="-1"></a><span class="st">  # Alternatively you can redo the above like (without the # of course)</span></span>
<span id="cb177-13"><a href="structural-equation-modelling-and-mediation.html#cb177-13" tabindex="-1"></a><span class="st">    # outcome ~ b*mediator + c*predictor</span></span>
<span id="cb177-14"><a href="structural-equation-modelling-and-mediation.html#cb177-14" tabindex="-1"></a><span class="st">    # mediator ~ a*predictor</span></span>
<span id="cb177-15"><a href="structural-equation-modelling-and-mediation.html#cb177-15" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb177-16"><a href="structural-equation-modelling-and-mediation.html#cb177-16" tabindex="-1"></a><span class="st"># The above is needed to compute indirect </span></span>
<span id="cb177-17"><a href="structural-equation-modelling-and-mediation.html#cb177-17" tabindex="-1"></a></span>
<span id="cb177-18"><a href="structural-equation-modelling-and-mediation.html#cb177-18" tabindex="-1"></a><span class="st">indirect := a*b</span></span>
<span id="cb177-19"><a href="structural-equation-modelling-and-mediation.html#cb177-19" tabindex="-1"></a><span class="st">direct := c</span></span>
<span id="cb177-20"><a href="structural-equation-modelling-and-mediation.html#cb177-20" tabindex="-1"></a><span class="st">total := (a*b) + c</span></span>
<span id="cb177-21"><a href="structural-equation-modelling-and-mediation.html#cb177-21" tabindex="-1"></a></span>
<span id="cb177-22"><a href="structural-equation-modelling-and-mediation.html#cb177-22" tabindex="-1"></a><span class="st">&#39;</span></span></code></pre></div>
<p>Now we use feed the above to the <strong>sem() function</strong> from <strong>lavaan</strong>. I will also ask for bootstrap simulations as these could be important for obtaining reliable confidence intervals in mediation analysis. Note that I set the number of bootstrap simulations to 5 just for demonstration purpose. However, consider to have more of them (e.g., 500 or more).</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="structural-equation-modelling-and-mediation.html#cb178-1" tabindex="-1"></a>mymodel<span class="ot">=</span><span class="fu">sem</span>(mystructure,<span class="at">data=</span>mydata, <span class="at">se =</span> <span class="st">&quot;bootstrap&quot;</span>, <span class="at">iseed=</span><span class="dv">1234</span>, <span class="at">bootstrap =</span> <span class="dv">5</span>) <span class="co"># I take 5 bootstrap simulation but consider 500+ when doing it for real </span></span>
<span id="cb178-2"><a href="structural-equation-modelling-and-mediation.html#cb178-2" tabindex="-1"></a><span class="co">#&gt; Warning in lav_model_vcov(lavmodel = lavmodel, lavsamplestats = lavsamplestats, : lavaan </span><span class="al">WARNING</span><span class="co">:</span></span>
<span id="cb178-3"><a href="structural-equation-modelling-and-mediation.html#cb178-3" tabindex="-1"></a><span class="co">#&gt;     The variance-covariance matrix of the estimated parameters (vcov)</span></span>
<span id="cb178-4"><a href="structural-equation-modelling-and-mediation.html#cb178-4" tabindex="-1"></a><span class="co">#&gt;     does not appear to be positive definite! The smallest eigenvalue</span></span>
<span id="cb178-5"><a href="structural-equation-modelling-and-mediation.html#cb178-5" tabindex="-1"></a><span class="co">#&gt;     (= 8.463702e-17) is close to zero. This may be a symptom that the</span></span>
<span id="cb178-6"><a href="structural-equation-modelling-and-mediation.html#cb178-6" tabindex="-1"></a><span class="co">#&gt;     model is not identified.</span></span>
<span id="cb178-7"><a href="structural-equation-modelling-and-mediation.html#cb178-7" tabindex="-1"></a><span class="fu">summary</span>(mymodel,<span class="at">standardized=</span><span class="cn">TRUE</span>)</span>
<span id="cb178-8"><a href="structural-equation-modelling-and-mediation.html#cb178-8" tabindex="-1"></a><span class="co">#&gt; lavaan 0.6.16 ended normally after 1 iteration</span></span>
<span id="cb178-9"><a href="structural-equation-modelling-and-mediation.html#cb178-9" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb178-10"><a href="structural-equation-modelling-and-mediation.html#cb178-10" tabindex="-1"></a><span class="co">#&gt;   Estimator                                         ML</span></span>
<span id="cb178-11"><a href="structural-equation-modelling-and-mediation.html#cb178-11" tabindex="-1"></a><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span id="cb178-12"><a href="structural-equation-modelling-and-mediation.html#cb178-12" tabindex="-1"></a><span class="co">#&gt;   Number of model parameters                         5</span></span>
<span id="cb178-13"><a href="structural-equation-modelling-and-mediation.html#cb178-13" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb178-14"><a href="structural-equation-modelling-and-mediation.html#cb178-14" tabindex="-1"></a><span class="co">#&gt;   Number of observations                           250</span></span>
<span id="cb178-15"><a href="structural-equation-modelling-and-mediation.html#cb178-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb178-16"><a href="structural-equation-modelling-and-mediation.html#cb178-16" tabindex="-1"></a><span class="co">#&gt; Model Test User Model:</span></span>
<span id="cb178-17"><a href="structural-equation-modelling-and-mediation.html#cb178-17" tabindex="-1"></a><span class="co">#&gt;                                                       </span></span>
<span id="cb178-18"><a href="structural-equation-modelling-and-mediation.html#cb178-18" tabindex="-1"></a><span class="co">#&gt;   Test statistic                                 0.000</span></span>
<span id="cb178-19"><a href="structural-equation-modelling-and-mediation.html#cb178-19" tabindex="-1"></a><span class="co">#&gt;   Degrees of freedom                                 0</span></span>
<span id="cb178-20"><a href="structural-equation-modelling-and-mediation.html#cb178-20" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb178-21"><a href="structural-equation-modelling-and-mediation.html#cb178-21" tabindex="-1"></a><span class="co">#&gt; Parameter Estimates:</span></span>
<span id="cb178-22"><a href="structural-equation-modelling-and-mediation.html#cb178-22" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb178-23"><a href="structural-equation-modelling-and-mediation.html#cb178-23" tabindex="-1"></a><span class="co">#&gt;   Standard errors                            Bootstrap</span></span>
<span id="cb178-24"><a href="structural-equation-modelling-and-mediation.html#cb178-24" tabindex="-1"></a><span class="co">#&gt;   Number of requested bootstrap draws                5</span></span>
<span id="cb178-25"><a href="structural-equation-modelling-and-mediation.html#cb178-25" tabindex="-1"></a><span class="co">#&gt;   Number of successful bootstrap draws               5</span></span>
<span id="cb178-26"><a href="structural-equation-modelling-and-mediation.html#cb178-26" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb178-27"><a href="structural-equation-modelling-and-mediation.html#cb178-27" tabindex="-1"></a><span class="co">#&gt; Regressions:</span></span>
<span id="cb178-28"><a href="structural-equation-modelling-and-mediation.html#cb178-28" tabindex="-1"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb178-29"><a href="structural-equation-modelling-and-mediation.html#cb178-29" tabindex="-1"></a><span class="co">#&gt;   outcome ~                                           </span></span>
<span id="cb178-30"><a href="structural-equation-modelling-and-mediation.html#cb178-30" tabindex="-1"></a><span class="co">#&gt;     predictor  (c)    0.230    0.122    1.885    0.059</span></span>
<span id="cb178-31"><a href="structural-equation-modelling-and-mediation.html#cb178-31" tabindex="-1"></a><span class="co">#&gt;   mediator ~                                          </span></span>
<span id="cb178-32"><a href="structural-equation-modelling-and-mediation.html#cb178-32" tabindex="-1"></a><span class="co">#&gt;     predictor  (a)    0.644    0.033   19.351    0.000</span></span>
<span id="cb178-33"><a href="structural-equation-modelling-and-mediation.html#cb178-33" tabindex="-1"></a><span class="co">#&gt;   outcome ~                                           </span></span>
<span id="cb178-34"><a href="structural-equation-modelling-and-mediation.html#cb178-34" tabindex="-1"></a><span class="co">#&gt;     mediator   (b)    0.760    0.148    5.121    0.000</span></span>
<span id="cb178-35"><a href="structural-equation-modelling-and-mediation.html#cb178-35" tabindex="-1"></a><span class="co">#&gt;    Std.lv  Std.all</span></span>
<span id="cb178-36"><a href="structural-equation-modelling-and-mediation.html#cb178-36" tabindex="-1"></a><span class="co">#&gt;                   </span></span>
<span id="cb178-37"><a href="structural-equation-modelling-and-mediation.html#cb178-37" tabindex="-1"></a><span class="co">#&gt;     0.230    0.140</span></span>
<span id="cb178-38"><a href="structural-equation-modelling-and-mediation.html#cb178-38" tabindex="-1"></a><span class="co">#&gt;                   </span></span>
<span id="cb178-39"><a href="structural-equation-modelling-and-mediation.html#cb178-39" tabindex="-1"></a><span class="co">#&gt;     0.644    0.713</span></span>
<span id="cb178-40"><a href="structural-equation-modelling-and-mediation.html#cb178-40" tabindex="-1"></a><span class="co">#&gt;                   </span></span>
<span id="cb178-41"><a href="structural-equation-modelling-and-mediation.html#cb178-41" tabindex="-1"></a><span class="co">#&gt;     0.760    0.417</span></span>
<span id="cb178-42"><a href="structural-equation-modelling-and-mediation.html#cb178-42" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb178-43"><a href="structural-equation-modelling-and-mediation.html#cb178-43" tabindex="-1"></a><span class="co">#&gt; Variances:</span></span>
<span id="cb178-44"><a href="structural-equation-modelling-and-mediation.html#cb178-44" tabindex="-1"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb178-45"><a href="structural-equation-modelling-and-mediation.html#cb178-45" tabindex="-1"></a><span class="co">#&gt;    .outcome          47.380    5.939    7.977    0.000</span></span>
<span id="cb178-46"><a href="structural-equation-modelling-and-mediation.html#cb178-46" tabindex="-1"></a><span class="co">#&gt;    .mediator          9.689    0.684   14.163    0.000</span></span>
<span id="cb178-47"><a href="structural-equation-modelling-and-mediation.html#cb178-47" tabindex="-1"></a><span class="co">#&gt;    Std.lv  Std.all</span></span>
<span id="cb178-48"><a href="structural-equation-modelling-and-mediation.html#cb178-48" tabindex="-1"></a><span class="co">#&gt;    47.380    0.723</span></span>
<span id="cb178-49"><a href="structural-equation-modelling-and-mediation.html#cb178-49" tabindex="-1"></a><span class="co">#&gt;     9.689    0.491</span></span>
<span id="cb178-50"><a href="structural-equation-modelling-and-mediation.html#cb178-50" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb178-51"><a href="structural-equation-modelling-and-mediation.html#cb178-51" tabindex="-1"></a><span class="co">#&gt; Defined Parameters:</span></span>
<span id="cb178-52"><a href="structural-equation-modelling-and-mediation.html#cb178-52" tabindex="-1"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb178-53"><a href="structural-equation-modelling-and-mediation.html#cb178-53" tabindex="-1"></a><span class="co">#&gt;     indirect          0.490    0.113    4.334    0.000</span></span>
<span id="cb178-54"><a href="structural-equation-modelling-and-mediation.html#cb178-54" tabindex="-1"></a><span class="co">#&gt;     direct            0.230    0.136    1.686    0.092</span></span>
<span id="cb178-55"><a href="structural-equation-modelling-and-mediation.html#cb178-55" tabindex="-1"></a><span class="co">#&gt;     total             0.720    0.033   22.118    0.000</span></span>
<span id="cb178-56"><a href="structural-equation-modelling-and-mediation.html#cb178-56" tabindex="-1"></a><span class="co">#&gt;    Std.lv  Std.all</span></span>
<span id="cb178-57"><a href="structural-equation-modelling-and-mediation.html#cb178-57" tabindex="-1"></a><span class="co">#&gt;     0.490    0.297</span></span>
<span id="cb178-58"><a href="structural-equation-modelling-and-mediation.html#cb178-58" tabindex="-1"></a><span class="co">#&gt;     0.230    0.140</span></span>
<span id="cb178-59"><a href="structural-equation-modelling-and-mediation.html#cb178-59" tabindex="-1"></a><span class="co">#&gt;     0.720    0.437</span></span></code></pre></div>
<p>Summary output time. I will focus on our three defined parameters. <em>Indirect</em>, as mentioned before, reflects the model’s estimated “effect” of our predictor on our outcome <strong>through our mediator</strong>. In other words, our mediation effect. <em>direct</em>, shows the relation between predictor and outcome but <strong>after accounting for the mediator</strong>. <em>total</em> is formula-wise the sum of our indirect and direct estimated “effects” so the total impact of the predictor on our outcome.</p>
<p>In our example, we could report that the mediation (indirect effect) is statistically significant (based on <em>p value</em>) whereas the estimated direct “effect” is not. In other words, the predictor statistically significantly relates to the outcome through the mediator. Some people would describe our case as a “full” mediation while they would label it as “partial” mediation in case our direct effect was also statistically significant.</p>
<p>Let’s return back to R code, I can also obtain the (standardized) estimated parameters using the parameterEstimates() function.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="structural-equation-modelling-and-mediation.html#cb179-1" tabindex="-1"></a><span class="fu">parameterEstimates</span>(mymodel, <span class="at">standardized =</span> <span class="cn">TRUE</span>)</span>
<span id="cb179-2"><a href="structural-equation-modelling-and-mediation.html#cb179-2" tabindex="-1"></a><span class="co">#&gt;         lhs op       rhs    label    est    se      z</span></span>
<span id="cb179-3"><a href="structural-equation-modelling-and-mediation.html#cb179-3" tabindex="-1"></a><span class="co">#&gt; 1   outcome  ~ predictor        c  0.230 0.122  1.885</span></span>
<span id="cb179-4"><a href="structural-equation-modelling-and-mediation.html#cb179-4" tabindex="-1"></a><span class="co">#&gt; 2  mediator  ~ predictor        a  0.644 0.033 19.351</span></span>
<span id="cb179-5"><a href="structural-equation-modelling-and-mediation.html#cb179-5" tabindex="-1"></a><span class="co">#&gt; 3   outcome  ~  mediator        b  0.760 0.148  5.121</span></span>
<span id="cb179-6"><a href="structural-equation-modelling-and-mediation.html#cb179-6" tabindex="-1"></a><span class="co">#&gt; 4   outcome ~~   outcome          47.380 5.939  7.977</span></span>
<span id="cb179-7"><a href="structural-equation-modelling-and-mediation.html#cb179-7" tabindex="-1"></a><span class="co">#&gt; 5  mediator ~~  mediator           9.689 0.684 14.163</span></span>
<span id="cb179-8"><a href="structural-equation-modelling-and-mediation.html#cb179-8" tabindex="-1"></a><span class="co">#&gt; 6 predictor ~~ predictor          24.160 0.000     NA</span></span>
<span id="cb179-9"><a href="structural-equation-modelling-and-mediation.html#cb179-9" tabindex="-1"></a><span class="co">#&gt; 7  indirect :=       a*b indirect  0.490 0.113  4.334</span></span>
<span id="cb179-10"><a href="structural-equation-modelling-and-mediation.html#cb179-10" tabindex="-1"></a><span class="co">#&gt; 8    direct :=         c   direct  0.230 0.136  1.686</span></span>
<span id="cb179-11"><a href="structural-equation-modelling-and-mediation.html#cb179-11" tabindex="-1"></a><span class="co">#&gt; 9     total :=   (a*b)+c    total  0.720 0.033 22.118</span></span>
<span id="cb179-12"><a href="structural-equation-modelling-and-mediation.html#cb179-12" tabindex="-1"></a><span class="co">#&gt;   pvalue ci.lower ci.upper std.lv std.all std.nox</span></span>
<span id="cb179-13"><a href="structural-equation-modelling-and-mediation.html#cb179-13" tabindex="-1"></a><span class="co">#&gt; 1  0.059   -0.006    0.365  0.230   0.140   0.028</span></span>
<span id="cb179-14"><a href="structural-equation-modelling-and-mediation.html#cb179-14" tabindex="-1"></a><span class="co">#&gt; 2  0.000    0.600    0.697  0.644   0.713   0.145</span></span>
<span id="cb179-15"><a href="structural-equation-modelling-and-mediation.html#cb179-15" tabindex="-1"></a><span class="co">#&gt; 3  0.000    0.560    0.986  0.760   0.417   0.417</span></span>
<span id="cb179-16"><a href="structural-equation-modelling-and-mediation.html#cb179-16" tabindex="-1"></a><span class="co">#&gt; 4  0.000   36.165   53.789 47.380   0.723   0.723</span></span>
<span id="cb179-17"><a href="structural-equation-modelling-and-mediation.html#cb179-17" tabindex="-1"></a><span class="co">#&gt; 5  0.000    8.815   10.709  9.689   0.491   0.491</span></span>
<span id="cb179-18"><a href="structural-equation-modelling-and-mediation.html#cb179-18" tabindex="-1"></a><span class="co">#&gt; 6     NA   24.160   24.160 24.160   1.000  24.160</span></span>
<span id="cb179-19"><a href="structural-equation-modelling-and-mediation.html#cb179-19" tabindex="-1"></a><span class="co">#&gt; 7  0.000    0.369    0.669  0.490   0.297   0.060</span></span>
<span id="cb179-20"><a href="structural-equation-modelling-and-mediation.html#cb179-20" tabindex="-1"></a><span class="co">#&gt; 8  0.092   -0.006    0.365  0.230   0.140   0.028</span></span>
<span id="cb179-21"><a href="structural-equation-modelling-and-mediation.html#cb179-21" tabindex="-1"></a><span class="co">#&gt; 9  0.000    0.663    0.734  0.720   0.437   0.089</span></span></code></pre></div>
<p>However, the confidence intervals may not use the bootstrapped solutions so to have more accurate (percentile) confidence intervals, we can use the <strong>standardized_Solution_boot_ci() function</strong> from the <a href="https://cran.r-project.org/web/packages/semhelpinghands/index.html">semhelpinghands package</a>.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="structural-equation-modelling-and-mediation.html#cb180-1" tabindex="-1"></a><span class="fu">library</span>(semhelpinghands)</span>
<span id="cb180-2"><a href="structural-equation-modelling-and-mediation.html#cb180-2" tabindex="-1"></a><span class="fu">standardizedSolution_boot_ci</span>(mymodel)</span>
<span id="cb180-3"><a href="structural-equation-modelling-and-mediation.html#cb180-3" tabindex="-1"></a><span class="co">#&gt;         lhs op       rhs    label est.std    se      z</span></span>
<span id="cb180-4"><a href="structural-equation-modelling-and-mediation.html#cb180-4" tabindex="-1"></a><span class="co">#&gt; 1   outcome  ~ predictor        c   0.140 0.079  1.769</span></span>
<span id="cb180-5"><a href="structural-equation-modelling-and-mediation.html#cb180-5" tabindex="-1"></a><span class="co">#&gt; 2  mediator  ~ predictor        a   0.713 0.022 31.727</span></span>
<span id="cb180-6"><a href="structural-equation-modelling-and-mediation.html#cb180-6" tabindex="-1"></a><span class="co">#&gt; 3   outcome  ~  mediator        b   0.417 0.074  5.611</span></span>
<span id="cb180-7"><a href="structural-equation-modelling-and-mediation.html#cb180-7" tabindex="-1"></a><span class="co">#&gt; 4   outcome ~~   outcome            0.723 0.033 21.637</span></span>
<span id="cb180-8"><a href="structural-equation-modelling-and-mediation.html#cb180-8" tabindex="-1"></a><span class="co">#&gt; 5  mediator ~~  mediator            0.491 0.032 15.333</span></span>
<span id="cb180-9"><a href="structural-equation-modelling-and-mediation.html#cb180-9" tabindex="-1"></a><span class="co">#&gt; 6 predictor ~~ predictor            1.000 0.000     NA</span></span>
<span id="cb180-10"><a href="structural-equation-modelling-and-mediation.html#cb180-10" tabindex="-1"></a><span class="co">#&gt; 7  indirect :=       a*b indirect   0.297 0.051  5.791</span></span>
<span id="cb180-11"><a href="structural-equation-modelling-and-mediation.html#cb180-11" tabindex="-1"></a><span class="co">#&gt; 8    direct :=         c   direct   0.140 0.079  1.769</span></span>
<span id="cb180-12"><a href="structural-equation-modelling-and-mediation.html#cb180-12" tabindex="-1"></a><span class="co">#&gt; 9     total :=   (a*b)+c    total   0.437 0.038 11.444</span></span>
<span id="cb180-13"><a href="structural-equation-modelling-and-mediation.html#cb180-13" tabindex="-1"></a><span class="co">#&gt;   pvalue ci.lower ci.upper boot.ci.lower boot.ci.upper</span></span>
<span id="cb180-14"><a href="structural-equation-modelling-and-mediation.html#cb180-14" tabindex="-1"></a><span class="co">#&gt; 1  0.077   -0.015    0.294        -0.004         0.248</span></span>
<span id="cb180-15"><a href="structural-equation-modelling-and-mediation.html#cb180-15" tabindex="-1"></a><span class="co">#&gt; 2  0.000    0.669    0.757         0.669         0.730</span></span>
<span id="cb180-16"><a href="structural-equation-modelling-and-mediation.html#cb180-16" tabindex="-1"></a><span class="co">#&gt; 3  0.000    0.271    0.563         0.347         0.555</span></span>
<span id="cb180-17"><a href="structural-equation-modelling-and-mediation.html#cb180-17" tabindex="-1"></a><span class="co">#&gt; 4  0.000    0.658    0.789         0.693         0.787</span></span>
<span id="cb180-18"><a href="structural-equation-modelling-and-mediation.html#cb180-18" tabindex="-1"></a><span class="co">#&gt; 5  0.000    0.429    0.554         0.467         0.552</span></span>
<span id="cb180-19"><a href="structural-equation-modelling-and-mediation.html#cb180-19" tabindex="-1"></a><span class="co">#&gt; 6     NA    1.000    1.000            NA            NA</span></span>
<span id="cb180-20"><a href="structural-equation-modelling-and-mediation.html#cb180-20" tabindex="-1"></a><span class="co">#&gt; 7  0.000    0.197    0.398         0.251         0.399</span></span>
<span id="cb180-21"><a href="structural-equation-modelling-and-mediation.html#cb180-21" tabindex="-1"></a><span class="co">#&gt; 8  0.077   -0.015    0.294        -0.004         0.248</span></span>
<span id="cb180-22"><a href="structural-equation-modelling-and-mediation.html#cb180-22" tabindex="-1"></a><span class="co">#&gt; 9  0.000    0.362    0.512         0.394         0.499</span></span>
<span id="cb180-23"><a href="structural-equation-modelling-and-mediation.html#cb180-23" tabindex="-1"></a><span class="co">#&gt;   boot.se</span></span>
<span id="cb180-24"><a href="structural-equation-modelling-and-mediation.html#cb180-24" tabindex="-1"></a><span class="co">#&gt; 1   0.091</span></span>
<span id="cb180-25"><a href="structural-equation-modelling-and-mediation.html#cb180-25" tabindex="-1"></a><span class="co">#&gt; 2   0.026</span></span>
<span id="cb180-26"><a href="structural-equation-modelling-and-mediation.html#cb180-26" tabindex="-1"></a><span class="co">#&gt; 3   0.085</span></span>
<span id="cb180-27"><a href="structural-equation-modelling-and-mediation.html#cb180-27" tabindex="-1"></a><span class="co">#&gt; 4   0.040</span></span>
<span id="cb180-28"><a href="structural-equation-modelling-and-mediation.html#cb180-28" tabindex="-1"></a><span class="co">#&gt; 5   0.036</span></span>
<span id="cb180-29"><a href="structural-equation-modelling-and-mediation.html#cb180-29" tabindex="-1"></a><span class="co">#&gt; 6      NA</span></span>
<span id="cb180-30"><a href="structural-equation-modelling-and-mediation.html#cb180-30" tabindex="-1"></a><span class="co">#&gt; 7   0.059</span></span>
<span id="cb180-31"><a href="structural-equation-modelling-and-mediation.html#cb180-31" tabindex="-1"></a><span class="co">#&gt; 8   0.091</span></span>
<span id="cb180-32"><a href="structural-equation-modelling-and-mediation.html#cb180-32" tabindex="-1"></a><span class="co">#&gt; 9   0.045</span></span></code></pre></div>
<div id="visualize-your-path-diagrams" class="section level3 hasAnchor" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> Visualize your : path diagrams<a href="structural-equation-modelling-and-mediation.html#visualize-your-path-diagrams" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Using the summary() output, we could use the estimated parameters and make our own plots, in the context of mediation, our own <strong>path diagrams</strong>. However, you could also consider to use ^<strong>packages like semPlot to do the work for you</strong>. Basically, we will recreate “the triangle” but now we add the estimates of β(PM), β(MO), and β(PM). In my experience, it does take a bit of knowledge to make your path diagrams look aesthetically pleasing. Allow me to guide you through.</p>
<p>A first concern is where the figure will put the labels for your variables. So where “predictor”, “mediator”, and “outcome” will be placed. I prefer that the predictor is placed on the left, the outcome on the right, and the mediator in the middle on top. To tell semPlot to use this layout, we will have to create a matrix that contains the position of these variables (see below in the R code chunk). Then we can use the <strong>semPaths() function</strong> to make our path diagrams.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="structural-equation-modelling-and-mediation.html#cb181-1" tabindex="-1"></a><span class="fu">library</span>(semPlot)</span>
<span id="cb181-2"><a href="structural-equation-modelling-and-mediation.html#cb181-2" tabindex="-1"></a></span>
<span id="cb181-3"><a href="structural-equation-modelling-and-mediation.html#cb181-3" tabindex="-1"></a><span class="co"># To determine the location of the labels:</span></span>
<span id="cb181-4"><a href="structural-equation-modelling-and-mediation.html#cb181-4" tabindex="-1"></a>  my_layout <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(</span>
<span id="cb181-5"><a href="structural-equation-modelling-and-mediation.html#cb181-5" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>,   <span class="co"># To put the variable &quot;predictor&quot; to the RIGHT side and at the BOTTOM</span></span>
<span id="cb181-6"><a href="structural-equation-modelling-and-mediation.html#cb181-6" tabindex="-1"></a>    <span class="fl">0.5</span>, <span class="dv">1</span>,   <span class="co"># Put the &quot;mediator&quot; in the MIDDLE at the TOP</span></span>
<span id="cb181-7"><a href="structural-equation-modelling-and-mediation.html#cb181-7" tabindex="-1"></a>    <span class="dv">0</span>, <span class="dv">0</span>   <span class="co"># Put the &quot;outcome&quot; at the left side and at the BOTTOM</span></span>
<span id="cb181-8"><a href="structural-equation-modelling-and-mediation.html#cb181-8" tabindex="-1"></a>  ), <span class="at">byrow =</span> <span class="cn">TRUE</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb181-9"><a href="structural-equation-modelling-and-mediation.html#cb181-9" tabindex="-1"></a></span>
<span id="cb181-10"><a href="structural-equation-modelling-and-mediation.html#cb181-10" tabindex="-1"></a><span class="co"># Create the path diagram</span></span>
<span id="cb181-11"><a href="structural-equation-modelling-and-mediation.html#cb181-11" tabindex="-1"></a><span class="fu">semPaths</span>(mymodel, </span>
<span id="cb181-12"><a href="structural-equation-modelling-and-mediation.html#cb181-12" tabindex="-1"></a>         <span class="at">what =</span> <span class="st">&quot;std&quot;</span>,  <span class="co"># I want to use the standardized estimates</span></span>
<span id="cb181-13"><a href="structural-equation-modelling-and-mediation.html#cb181-13" tabindex="-1"></a>         <span class="at">layout =</span> my_layout,  <span class="co"># Use our above custom layout</span></span>
<span id="cb181-14"><a href="structural-equation-modelling-and-mediation.html#cb181-14" tabindex="-1"></a>         <span class="at">edge.label.cex =</span> <span class="fl">1.3</span>,  <span class="co"># Set the font size for the estimates</span></span>
<span id="cb181-15"><a href="structural-equation-modelling-and-mediation.html#cb181-15" tabindex="-1"></a>         <span class="at">label.cex =</span> <span class="fl">1.2</span>, <span class="co"># Set the font size for the labels (&quot;predictor&quot;, &quot;mediator&quot;, etc.)</span></span>
<span id="cb181-16"><a href="structural-equation-modelling-and-mediation.html#cb181-16" tabindex="-1"></a>         <span class="at">sizeMan =</span> <span class="dv">15</span>,  <span class="co"># Set the sizes of the boxes</span></span>
<span id="cb181-17"><a href="structural-equation-modelling-and-mediation.html#cb181-17" tabindex="-1"></a>         <span class="at">fade =</span> <span class="cn">FALSE</span>, <span class="co"># TRUE will create make the larger estimates also thicker</span></span>
<span id="cb181-18"><a href="structural-equation-modelling-and-mediation.html#cb181-18" tabindex="-1"></a>         <span class="at">residuals =</span> <span class="cn">FALSE</span>,  <span class="co"># Hide residual variances of the variables</span></span>
<span id="cb181-19"><a href="structural-equation-modelling-and-mediation.html#cb181-19" tabindex="-1"></a>         <span class="at">edge.color =</span> <span class="st">&quot;black&quot;</span>,  <span class="co"># Determine the color for the arrows (&quot;edges&quot;)</span></span>
<span id="cb181-20"><a href="structural-equation-modelling-and-mediation.html#cb181-20" tabindex="-1"></a>         <span class="at">nCharNodes =</span> <span class="dv">0</span>  <span class="co"># If Set to zero, it will display the full variable name instead of shorten it down</span></span>
<span id="cb181-21"><a href="structural-equation-modelling-and-mediation.html#cb181-21" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="08-Mediation_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Now, if you want, you can also add notifications of significance (asterisks) to our (standardized) estimates. To do so, we will need to extract the <em>p</em> values from our estimates. Since I want to plot standardized estimates, I will need to extract those of the standardized estimates. This can be done using the aforementioned parameterEstimates() function.</p>
<p>Using these <em>p</em> values we now have to (a) transform them into significance notifications and (b) glue them to our original estimates. To do the first step “from value to asterisk” I will make a function that checks the <em>p</em> value and determines whether to asign no, one, two, or three asterisk Then I will actually apply this function to the <em>p</em> values and glue the asterixes (or lack thereoff) to my standardized estimates.</p>
<p>This is how it looks like.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="structural-equation-modelling-and-mediation.html#cb182-1" tabindex="-1"></a><span class="co"># Alright we need to acquire the estimates and corresponding p value</span></span>
<span id="cb182-2"><a href="structural-equation-modelling-and-mediation.html#cb182-2" tabindex="-1"></a>parameter_estimates <span class="ot">=</span> <span class="fu">parameterEstimates</span>(mymodel, <span class="at">standardized =</span> <span class="cn">TRUE</span>)</span>
<span id="cb182-3"><a href="structural-equation-modelling-and-mediation.html#cb182-3" tabindex="-1"></a></span>
<span id="cb182-4"><a href="structural-equation-modelling-and-mediation.html#cb182-4" tabindex="-1"></a><span class="co"># For our plot we only need the parameters for the a,b, and c-path so here I make sure to exclusive include these three</span></span>
<span id="cb182-5"><a href="structural-equation-modelling-and-mediation.html#cb182-5" tabindex="-1"></a>parameter_estimates <span class="ot">=</span> parameter_estimates[parameter_estimates<span class="sc">$</span>op <span class="sc">==</span> <span class="st">&quot;~&quot;</span>, ]</span>
<span id="cb182-6"><a href="structural-equation-modelling-and-mediation.html#cb182-6" tabindex="-1"></a></span>
<span id="cb182-7"><a href="structural-equation-modelling-and-mediation.html#cb182-7" tabindex="-1"></a><span class="co"># Now we can translate these p values into significance labels, the famous asteriks (*, **, ***)</span></span>
<span id="cb182-8"><a href="structural-equation-modelling-and-mediation.html#cb182-8" tabindex="-1"></a><span class="co"># To do so, I will create a function to add asterisks based on p value</span></span>
<span id="cb182-9"><a href="structural-equation-modelling-and-mediation.html#cb182-9" tabindex="-1"></a></span>
<span id="cb182-10"><a href="structural-equation-modelling-and-mediation.html#cb182-10" tabindex="-1"></a>add_stars <span class="ot">=</span> <span class="cf">function</span>(p) { <span class="co"># This function will take the p-value and determines what sign it should attribute to it (i.e., the number of asterix)</span></span>
<span id="cb182-11"><a href="structural-equation-modelling-and-mediation.html#cb182-11" tabindex="-1"></a>  </span>
<span id="cb182-12"><a href="structural-equation-modelling-and-mediation.html#cb182-12" tabindex="-1"></a>  <span class="co"># Functions are beyond of the scope of this guide</span></span>
<span id="cb182-13"><a href="structural-equation-modelling-and-mediation.html#cb182-13" tabindex="-1"></a>  <span class="co"># However, functions apply anything contained within the function to whatever argument you feed it (here the argument called &quot;p&quot;)</span></span>
<span id="cb182-14"><a href="structural-equation-modelling-and-mediation.html#cb182-14" tabindex="-1"></a>  <span class="co"># So my function checks the value of the p value, and determines whether to transform it into a given number of asterisks or nothing</span></span>
<span id="cb182-15"><a href="structural-equation-modelling-and-mediation.html#cb182-15" tabindex="-1"></a>  </span>
<span id="cb182-16"><a href="structural-equation-modelling-and-mediation.html#cb182-16" tabindex="-1"></a>  </span>
<span id="cb182-17"><a href="structural-equation-modelling-and-mediation.html#cb182-17" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.na</span>(p)) <span class="fu">return</span>(<span class="st">&quot;&quot;</span>)  <span class="co"># If the p value is NA, empty, return an empty string</span></span>
<span id="cb182-18"><a href="structural-equation-modelling-and-mediation.html#cb182-18" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (p <span class="sc">&lt;</span> <span class="fl">0.001</span>) <span class="fu">return</span>(<span class="st">&quot;***&quot;</span>) <span class="co"># If the p-value is below .001 then return ***</span></span>
<span id="cb182-19"><a href="structural-equation-modelling-and-mediation.html#cb182-19" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (p <span class="sc">&lt;</span> <span class="fl">0.01</span>) <span class="fu">return</span>(<span class="st">&quot;**&quot;</span>)</span>
<span id="cb182-20"><a href="structural-equation-modelling-and-mediation.html#cb182-20" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (p <span class="sc">&lt;</span> <span class="fl">0.05</span>) <span class="fu">return</span>(<span class="st">&quot;*&quot;</span>)</span>
<span id="cb182-21"><a href="structural-equation-modelling-and-mediation.html#cb182-21" tabindex="-1"></a>  <span class="cf">else</span> <span class="fu">return</span>(<span class="st">&quot;&quot;</span>) <span class="co"># If the p-value is 0.05 or larger then do not add an asterisk</span></span>
<span id="cb182-22"><a href="structural-equation-modelling-and-mediation.html#cb182-22" tabindex="-1"></a>}</span>
<span id="cb182-23"><a href="structural-equation-modelling-and-mediation.html#cb182-23" tabindex="-1"></a></span>
<span id="cb182-24"><a href="structural-equation-modelling-and-mediation.html#cb182-24" tabindex="-1"></a></span>
<span id="cb182-25"><a href="structural-equation-modelling-and-mediation.html#cb182-25" tabindex="-1"></a><span class="co"># Alright I want to put the label and the asterisk on my path diagram (e.g., &quot;0.71***&quot;) so I will need to glue them together</span></span>
<span id="cb182-26"><a href="structural-equation-modelling-and-mediation.html#cb182-26" tabindex="-1"></a>parameter_estimates<span class="sc">$</span>label <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb182-27"><a href="structural-equation-modelling-and-mediation.html#cb182-27" tabindex="-1"></a>  <span class="fu">round</span>(parameter_estimates<span class="sc">$</span>std.all, <span class="dv">2</span>), <span class="co"># round the estimates to two decimals</span></span>
<span id="cb182-28"><a href="structural-equation-modelling-and-mediation.html#cb182-28" tabindex="-1"></a>  <span class="fu">sapply</span>(parameter_estimates<span class="sc">$</span>pvalue, add_stars) <span class="co"># apply the &quot;p value to asterisks&quot; function</span></span>
<span id="cb182-29"><a href="structural-equation-modelling-and-mediation.html#cb182-29" tabindex="-1"></a>)</span>
<span id="cb182-30"><a href="structural-equation-modelling-and-mediation.html#cb182-30" tabindex="-1"></a></span>
<span id="cb182-31"><a href="structural-equation-modelling-and-mediation.html#cb182-31" tabindex="-1"></a><span class="co"># Finally, our path diagram with significance asterisks</span></span>
<span id="cb182-32"><a href="structural-equation-modelling-and-mediation.html#cb182-32" tabindex="-1"></a><span class="fu">semPaths</span>(mymodel, </span>
<span id="cb182-33"><a href="structural-equation-modelling-and-mediation.html#cb182-33" tabindex="-1"></a>         <span class="at">what =</span> <span class="st">&quot;std&quot;</span>,  <span class="co"># I want to use the standardized estimates</span></span>
<span id="cb182-34"><a href="structural-equation-modelling-and-mediation.html#cb182-34" tabindex="-1"></a>         <span class="at">layout =</span> my_layout,  <span class="co"># Use our above custom layout</span></span>
<span id="cb182-35"><a href="structural-equation-modelling-and-mediation.html#cb182-35" tabindex="-1"></a>         <span class="at">edge.label.cex =</span> <span class="fl">1.3</span>,  <span class="co"># Set the font size for the estimates</span></span>
<span id="cb182-36"><a href="structural-equation-modelling-and-mediation.html#cb182-36" tabindex="-1"></a>         <span class="at">label.cex =</span> <span class="fl">1.2</span>, <span class="co"># Set the font size for the labels (&quot;predictor&quot;, &quot;mediator&quot;, etc.)</span></span>
<span id="cb182-37"><a href="structural-equation-modelling-and-mediation.html#cb182-37" tabindex="-1"></a>         <span class="at">sizeMan =</span> <span class="dv">15</span>,  <span class="co"># Set the sizes of the boxes</span></span>
<span id="cb182-38"><a href="structural-equation-modelling-and-mediation.html#cb182-38" tabindex="-1"></a>         <span class="at">fade =</span> <span class="cn">FALSE</span>, </span>
<span id="cb182-39"><a href="structural-equation-modelling-and-mediation.html#cb182-39" tabindex="-1"></a>         <span class="at">residuals =</span> <span class="cn">FALSE</span>,  <span class="co"># Hide residual variances of the variables</span></span>
<span id="cb182-40"><a href="structural-equation-modelling-and-mediation.html#cb182-40" tabindex="-1"></a>         <span class="at">edge.color =</span> <span class="st">&quot;black&quot;</span>,  <span class="co"># Determine the color for the arrows (&quot;edges&quot;)</span></span>
<span id="cb182-41"><a href="structural-equation-modelling-and-mediation.html#cb182-41" tabindex="-1"></a>         <span class="at">nCharNodes =</span> <span class="dv">0</span>, <span class="co"># If Set to zero, it will display the full variable name instead of shorten it down</span></span>
<span id="cb182-42"><a href="structural-equation-modelling-and-mediation.html#cb182-42" tabindex="-1"></a>         <span class="at">edgeLabels =</span> parameter_estimates<span class="sc">$</span>label)  <span class="co"># Apply the significance labels (estimate + asterixes)</span></span></code></pre></div>
<p><img src="08-Mediation_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
</div>
<div id="moderated-mediation" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Moderated mediation<a href="structural-equation-modelling-and-mediation.html#moderated-mediation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>What if the mediation relation (the extent of mediation, the variance explained by the mediator) depends on the level of yet another variable “the moderator”? Recall that we have three relations reflected by our three beta’s. The moderator can moderate <strong>any of these three relations</strong>. Let’s start with the most simple situation where only one relation (say the a-path) is moderated by a categorical variable. <strong>Crucially, we will need to compute and include the interaction in our dataset ourselves (which is just the predictor multiplied by the moderator) as lavaan will not accept something like “predictor:moderator” unlike in linear regression models</strong>.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="structural-equation-modelling-and-mediation.html#cb183-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">54321</span>)</span>
<span id="cb183-2"><a href="structural-equation-modelling-and-mediation.html#cb183-2" tabindex="-1"></a>n <span class="ot">=</span> <span class="dv">250</span>  <span class="co"># Sample size</span></span>
<span id="cb183-3"><a href="structural-equation-modelling-and-mediation.html#cb183-3" tabindex="-1"></a>cor_Y_X <span class="ot">=</span> <span class="fl">0.5</span> <span class="co"># correlation between outcome Y and predictor X </span></span>
<span id="cb183-4"><a href="structural-equation-modelling-and-mediation.html#cb183-4" tabindex="-1"></a>cor_Y_M <span class="ot">=</span> <span class="fl">0.6</span> <span class="co"># correlation between outcome Y and mediator M</span></span>
<span id="cb183-5"><a href="structural-equation-modelling-and-mediation.html#cb183-5" tabindex="-1"></a>cor_X_M <span class="ot">=</span> <span class="fl">0.7</span> <span class="co"># correlation between predictor X and mediator M</span></span>
<span id="cb183-6"><a href="structural-equation-modelling-and-mediation.html#cb183-6" tabindex="-1"></a></span>
<span id="cb183-7"><a href="structural-equation-modelling-and-mediation.html#cb183-7" tabindex="-1"></a></span>
<span id="cb183-8"><a href="structural-equation-modelling-and-mediation.html#cb183-8" tabindex="-1"></a>predictor <span class="ot">=</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">20</span>, <span class="at">sd =</span> <span class="dv">5</span>) <span class="co"># Create the predictor</span></span>
<span id="cb183-9"><a href="structural-equation-modelling-and-mediation.html#cb183-9" tabindex="-1"></a>mediator <span class="ot">=</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">15</span>, <span class="at">sd =</span> <span class="dv">3</span>) <span class="sc">+</span> (predictor <span class="sc">*</span> cor_X_M) <span class="co"># Create a mediator that is associated with the above predictor </span></span>
<span id="cb183-10"><a href="structural-equation-modelling-and-mediation.html#cb183-10" tabindex="-1"></a>moderator <span class="ot">=</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="at">times=</span><span class="dv">125</span>)</span>
<span id="cb183-11"><a href="structural-equation-modelling-and-mediation.html#cb183-11" tabindex="-1"></a></span>
<span id="cb183-12"><a href="structural-equation-modelling-and-mediation.html#cb183-12" tabindex="-1"></a></span>
<span id="cb183-13"><a href="structural-equation-modelling-and-mediation.html#cb183-13" tabindex="-1"></a>mydata <span class="ot">=</span> <span class="fu">data.frame</span>(</span>
<span id="cb183-14"><a href="structural-equation-modelling-and-mediation.html#cb183-14" tabindex="-1"></a>  <span class="at">predictor =</span> predictor,</span>
<span id="cb183-15"><a href="structural-equation-modelling-and-mediation.html#cb183-15" tabindex="-1"></a>  <span class="at">mediator =</span> mediator, </span>
<span id="cb183-16"><a href="structural-equation-modelling-and-mediation.html#cb183-16" tabindex="-1"></a>  <span class="at">outcome =</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">25</span>, <span class="at">sd =</span> <span class="dv">7</span>) <span class="sc">+</span> (mediator <span class="sc">*</span> cor_Y_M) <span class="sc">+</span> (predictor <span class="sc">*</span> cor_Y_X), <span class="co"># Outcome that is associated with both the predictor and mediator</span></span>
<span id="cb183-17"><a href="structural-equation-modelling-and-mediation.html#cb183-17" tabindex="-1"></a>  <span class="at">moderator =</span> moderator,</span>
<span id="cb183-18"><a href="structural-equation-modelling-and-mediation.html#cb183-18" tabindex="-1"></a>  <span class="at">interaction_predictor_moderator =</span> moderator <span class="sc">*</span> predictor</span>
<span id="cb183-19"><a href="structural-equation-modelling-and-mediation.html#cb183-19" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="images/Mediation/Mediation_4.png" /></p>
<p>We repeat the steps from before but now we need to remember that we need to add the moderator to the relation between predictor and mediator. Specifically, the mediator is now analytically predicted by predictor (main effect), the interaction term between the moderator and predictor, and as customary when you include interactions, the moderator (main effect) itself. So now we have three beta’s (two main effects, one interaction term) on that link to acknowledge. Our original “a-path” has now become a1 (say main effect predictor), a2 (say main effect moderator), and a3(say the interaction term). We acknowledge this when we define our regressions within our SEM structure.</p>
<p>But now, the inclusion of our moderator has <strong>two repercussions</strong> on how we need to compute the indirect effect. <strong>First, the original “a * b” formula will not suffice anymore as we have multiple a’s</strong>. <strong>The “a” in the original formula changes to a1 + a3 or the main effect of the predictor and the interaction term between predictor and moderator</strong>. <strong>But this is incomplete</strong>, as <strong>the indirect effect is now dependent on the values of the moderator, which brings us to the second point</strong>. So what we will do is to compute the indirect effect when the value of our moderator is something, and a indirect effect when the value is something else. Since our moderator is a <strong>binary factor</strong>, we can just compute the indirect effect if the moderator is zero and also when the moderator is one. <strong>The final formula becomes a1 + (a3 * 0) * b when the moderator is zero and a1 + (a3 * 1) * b, when the moderator is one.</strong></p>
<p>Finally, if you want to include the total effect, it becomes also different across the values of the moderator. So we have a total effect when the moderator is zero, and a total effect when the moderator is one.</p>
<p>Let us implement the above in our SEM structure object.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="structural-equation-modelling-and-mediation.html#cb184-1" tabindex="-1"></a>mystructure <span class="ot">=</span> <span class="st">&#39;</span></span>
<span id="cb184-2"><a href="structural-equation-modelling-and-mediation.html#cb184-2" tabindex="-1"></a></span>
<span id="cb184-3"><a href="structural-equation-modelling-and-mediation.html#cb184-3" tabindex="-1"></a><span class="st"># Direct relation</span></span>
<span id="cb184-4"><a href="structural-equation-modelling-and-mediation.html#cb184-4" tabindex="-1"></a></span>
<span id="cb184-5"><a href="structural-equation-modelling-and-mediation.html#cb184-5" tabindex="-1"></a><span class="st">  outcome ~ c*predictor</span></span>
<span id="cb184-6"><a href="structural-equation-modelling-and-mediation.html#cb184-6" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb184-7"><a href="structural-equation-modelling-and-mediation.html#cb184-7" tabindex="-1"></a><span class="st"># Indirect relation:</span></span>
<span id="cb184-8"><a href="structural-equation-modelling-and-mediation.html#cb184-8" tabindex="-1"></a></span>
<span id="cb184-9"><a href="structural-equation-modelling-and-mediation.html#cb184-9" tabindex="-1"></a><span class="st">  mediator ~ a1*predictor + a2*moderator + a3*interaction_predictor_moderator # Again, you need to compute and include the interaction in your dataset and use that</span></span>
<span id="cb184-10"><a href="structural-equation-modelling-and-mediation.html#cb184-10" tabindex="-1"></a><span class="st">  outcome ~ b*mediator</span></span>
<span id="cb184-11"><a href="structural-equation-modelling-and-mediation.html#cb184-11" tabindex="-1"></a></span>
<span id="cb184-12"><a href="structural-equation-modelling-and-mediation.html#cb184-12" tabindex="-1"></a><span class="st"># The indirect </span></span>
<span id="cb184-13"><a href="structural-equation-modelling-and-mediation.html#cb184-13" tabindex="-1"></a></span>
<span id="cb184-14"><a href="structural-equation-modelling-and-mediation.html#cb184-14" tabindex="-1"></a><span class="st">indirect_0 := (a1 + (a3*0)) * b # when the moderator is zero</span></span>
<span id="cb184-15"><a href="structural-equation-modelling-and-mediation.html#cb184-15" tabindex="-1"></a><span class="st">indirect_1 := (a1 + (a3*1)) * b # when the moderator is one</span></span>
<span id="cb184-16"><a href="structural-equation-modelling-and-mediation.html#cb184-16" tabindex="-1"></a><span class="st">direct := c</span></span>
<span id="cb184-17"><a href="structural-equation-modelling-and-mediation.html#cb184-17" tabindex="-1"></a><span class="st">total_0 := indirect_0 + c # when the moderator is zero (also &quot;c&quot; can be changed to &quot;direct&quot; if you want)</span></span>
<span id="cb184-18"><a href="structural-equation-modelling-and-mediation.html#cb184-18" tabindex="-1"></a><span class="st">total_1 := indirect_1 + c # when the moderator is one</span></span>
<span id="cb184-19"><a href="structural-equation-modelling-and-mediation.html#cb184-19" tabindex="-1"></a><span class="st">&#39;</span></span>
<span id="cb184-20"><a href="structural-equation-modelling-and-mediation.html#cb184-20" tabindex="-1"></a></span>
<span id="cb184-21"><a href="structural-equation-modelling-and-mediation.html#cb184-21" tabindex="-1"></a>mymodel<span class="ot">=</span><span class="fu">sem</span>(mystructure,<span class="at">data=</span>mydata, <span class="at">se =</span> <span class="st">&quot;bootstrap&quot;</span>, <span class="at">iseed=</span><span class="dv">1234</span>, <span class="at">bootstrap =</span> <span class="dv">5</span>) <span class="co"># Again I take 5 but consider 500+ when doing it for real </span></span>
<span id="cb184-22"><a href="structural-equation-modelling-and-mediation.html#cb184-22" tabindex="-1"></a><span class="fu">summary</span>(mymodel,<span class="at">standardized=</span><span class="cn">TRUE</span>)</span>
<span id="cb184-23"><a href="structural-equation-modelling-and-mediation.html#cb184-23" tabindex="-1"></a><span class="co">#&gt; lavaan 0.6.16 ended normally after 1 iteration</span></span>
<span id="cb184-24"><a href="structural-equation-modelling-and-mediation.html#cb184-24" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb184-25"><a href="structural-equation-modelling-and-mediation.html#cb184-25" tabindex="-1"></a><span class="co">#&gt;   Estimator                                         ML</span></span>
<span id="cb184-26"><a href="structural-equation-modelling-and-mediation.html#cb184-26" tabindex="-1"></a><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span id="cb184-27"><a href="structural-equation-modelling-and-mediation.html#cb184-27" tabindex="-1"></a><span class="co">#&gt;   Number of model parameters                         7</span></span>
<span id="cb184-28"><a href="structural-equation-modelling-and-mediation.html#cb184-28" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb184-29"><a href="structural-equation-modelling-and-mediation.html#cb184-29" tabindex="-1"></a><span class="co">#&gt;   Number of observations                           250</span></span>
<span id="cb184-30"><a href="structural-equation-modelling-and-mediation.html#cb184-30" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb184-31"><a href="structural-equation-modelling-and-mediation.html#cb184-31" tabindex="-1"></a><span class="co">#&gt; Model Test User Model:</span></span>
<span id="cb184-32"><a href="structural-equation-modelling-and-mediation.html#cb184-32" tabindex="-1"></a><span class="co">#&gt;                                                       </span></span>
<span id="cb184-33"><a href="structural-equation-modelling-and-mediation.html#cb184-33" tabindex="-1"></a><span class="co">#&gt;   Test statistic                                 0.787</span></span>
<span id="cb184-34"><a href="structural-equation-modelling-and-mediation.html#cb184-34" tabindex="-1"></a><span class="co">#&gt;   Degrees of freedom                                 2</span></span>
<span id="cb184-35"><a href="structural-equation-modelling-and-mediation.html#cb184-35" tabindex="-1"></a><span class="co">#&gt;   P-value (Chi-square)                           0.675</span></span>
<span id="cb184-36"><a href="structural-equation-modelling-and-mediation.html#cb184-36" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb184-37"><a href="structural-equation-modelling-and-mediation.html#cb184-37" tabindex="-1"></a><span class="co">#&gt; Parameter Estimates:</span></span>
<span id="cb184-38"><a href="structural-equation-modelling-and-mediation.html#cb184-38" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb184-39"><a href="structural-equation-modelling-and-mediation.html#cb184-39" tabindex="-1"></a><span class="co">#&gt;   Standard errors                            Bootstrap</span></span>
<span id="cb184-40"><a href="structural-equation-modelling-and-mediation.html#cb184-40" tabindex="-1"></a><span class="co">#&gt;   Number of requested bootstrap draws                5</span></span>
<span id="cb184-41"><a href="structural-equation-modelling-and-mediation.html#cb184-41" tabindex="-1"></a><span class="co">#&gt;   Number of successful bootstrap draws               5</span></span>
<span id="cb184-42"><a href="structural-equation-modelling-and-mediation.html#cb184-42" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb184-43"><a href="structural-equation-modelling-and-mediation.html#cb184-43" tabindex="-1"></a><span class="co">#&gt; Regressions:</span></span>
<span id="cb184-44"><a href="structural-equation-modelling-and-mediation.html#cb184-44" tabindex="-1"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb184-45"><a href="structural-equation-modelling-and-mediation.html#cb184-45" tabindex="-1"></a><span class="co">#&gt;   outcome ~                                           </span></span>
<span id="cb184-46"><a href="structural-equation-modelling-and-mediation.html#cb184-46" tabindex="-1"></a><span class="co">#&gt;     predictor  (c)    0.230    0.122    1.885    0.059</span></span>
<span id="cb184-47"><a href="structural-equation-modelling-and-mediation.html#cb184-47" tabindex="-1"></a><span class="co">#&gt;   mediator ~                                          </span></span>
<span id="cb184-48"><a href="structural-equation-modelling-and-mediation.html#cb184-48" tabindex="-1"></a><span class="co">#&gt;     predictor (a1)    0.696    0.048   14.510    0.000</span></span>
<span id="cb184-49"><a href="structural-equation-modelling-and-mediation.html#cb184-49" tabindex="-1"></a><span class="co">#&gt;     moderator (a2)    1.546    1.589    0.973    0.331</span></span>
<span id="cb184-50"><a href="structural-equation-modelling-and-mediation.html#cb184-50" tabindex="-1"></a><span class="co">#&gt;     intrctn__ (a3)   -0.093    0.068   -1.359    0.174</span></span>
<span id="cb184-51"><a href="structural-equation-modelling-and-mediation.html#cb184-51" tabindex="-1"></a><span class="co">#&gt;   outcome ~                                           </span></span>
<span id="cb184-52"><a href="structural-equation-modelling-and-mediation.html#cb184-52" tabindex="-1"></a><span class="co">#&gt;     mediator   (b)    0.760    0.148    5.121    0.000</span></span>
<span id="cb184-53"><a href="structural-equation-modelling-and-mediation.html#cb184-53" tabindex="-1"></a><span class="co">#&gt;    Std.lv  Std.all</span></span>
<span id="cb184-54"><a href="structural-equation-modelling-and-mediation.html#cb184-54" tabindex="-1"></a><span class="co">#&gt;                   </span></span>
<span id="cb184-55"><a href="structural-equation-modelling-and-mediation.html#cb184-55" tabindex="-1"></a><span class="co">#&gt;     0.230    0.140</span></span>
<span id="cb184-56"><a href="structural-equation-modelling-and-mediation.html#cb184-56" tabindex="-1"></a><span class="co">#&gt;                   </span></span>
<span id="cb184-57"><a href="structural-equation-modelling-and-mediation.html#cb184-57" tabindex="-1"></a><span class="co">#&gt;     0.696    0.770</span></span>
<span id="cb184-58"><a href="structural-equation-modelling-and-mediation.html#cb184-58" tabindex="-1"></a><span class="co">#&gt;     1.546    0.174</span></span>
<span id="cb184-59"><a href="structural-equation-modelling-and-mediation.html#cb184-59" tabindex="-1"></a><span class="co">#&gt;    -0.093   -0.226</span></span>
<span id="cb184-60"><a href="structural-equation-modelling-and-mediation.html#cb184-60" tabindex="-1"></a><span class="co">#&gt;                   </span></span>
<span id="cb184-61"><a href="structural-equation-modelling-and-mediation.html#cb184-61" tabindex="-1"></a><span class="co">#&gt;     0.760    0.417</span></span>
<span id="cb184-62"><a href="structural-equation-modelling-and-mediation.html#cb184-62" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb184-63"><a href="structural-equation-modelling-and-mediation.html#cb184-63" tabindex="-1"></a><span class="co">#&gt; Variances:</span></span>
<span id="cb184-64"><a href="structural-equation-modelling-and-mediation.html#cb184-64" tabindex="-1"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb184-65"><a href="structural-equation-modelling-and-mediation.html#cb184-65" tabindex="-1"></a><span class="co">#&gt;    .outcome          47.380    5.939    7.977    0.000</span></span>
<span id="cb184-66"><a href="structural-equation-modelling-and-mediation.html#cb184-66" tabindex="-1"></a><span class="co">#&gt;    .mediator          9.618    0.716   13.425    0.000</span></span>
<span id="cb184-67"><a href="structural-equation-modelling-and-mediation.html#cb184-67" tabindex="-1"></a><span class="co">#&gt;    Std.lv  Std.all</span></span>
<span id="cb184-68"><a href="structural-equation-modelling-and-mediation.html#cb184-68" tabindex="-1"></a><span class="co">#&gt;    47.380    0.723</span></span>
<span id="cb184-69"><a href="structural-equation-modelling-and-mediation.html#cb184-69" tabindex="-1"></a><span class="co">#&gt;     9.618    0.488</span></span>
<span id="cb184-70"><a href="structural-equation-modelling-and-mediation.html#cb184-70" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb184-71"><a href="structural-equation-modelling-and-mediation.html#cb184-71" tabindex="-1"></a><span class="co">#&gt; Defined Parameters:</span></span>
<span id="cb184-72"><a href="structural-equation-modelling-and-mediation.html#cb184-72" tabindex="-1"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb184-73"><a href="structural-equation-modelling-and-mediation.html#cb184-73" tabindex="-1"></a><span class="co">#&gt;     indirect_0        0.529    0.122    4.329    0.000</span></span>
<span id="cb184-74"><a href="structural-equation-modelling-and-mediation.html#cb184-74" tabindex="-1"></a><span class="co">#&gt;     indirect_1        0.458    0.106    4.316    0.000</span></span>
<span id="cb184-75"><a href="structural-equation-modelling-and-mediation.html#cb184-75" tabindex="-1"></a><span class="co">#&gt;     direct            0.230    0.136    1.686    0.092</span></span>
<span id="cb184-76"><a href="structural-equation-modelling-and-mediation.html#cb184-76" tabindex="-1"></a><span class="co">#&gt;     total_0           0.759    0.042   18.263    0.000</span></span>
<span id="cb184-77"><a href="structural-equation-modelling-and-mediation.html#cb184-77" tabindex="-1"></a><span class="co">#&gt;     total_1           0.688    0.050   13.744    0.000</span></span>
<span id="cb184-78"><a href="structural-equation-modelling-and-mediation.html#cb184-78" tabindex="-1"></a><span class="co">#&gt;    Std.lv  Std.all</span></span>
<span id="cb184-79"><a href="structural-equation-modelling-and-mediation.html#cb184-79" tabindex="-1"></a><span class="co">#&gt;     0.529    0.321</span></span>
<span id="cb184-80"><a href="structural-equation-modelling-and-mediation.html#cb184-80" tabindex="-1"></a><span class="co">#&gt;     0.458    0.227</span></span>
<span id="cb184-81"><a href="structural-equation-modelling-and-mediation.html#cb184-81" tabindex="-1"></a><span class="co">#&gt;     0.230    0.140</span></span>
<span id="cb184-82"><a href="structural-equation-modelling-and-mediation.html#cb184-82" tabindex="-1"></a><span class="co">#&gt;     0.759    0.461</span></span>
<span id="cb184-83"><a href="structural-equation-modelling-and-mediation.html#cb184-83" tabindex="-1"></a><span class="co">#&gt;     0.688    0.367</span></span></code></pre></div>
<p>Like before we can make a path diagram using the semPaths() function from the semPlot package. Remember that we made a layout ourselves to determine where are our labels will be placed? Now we have additional labels so we can determine their position if we want. Other than that nothing notably changes from before.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="structural-equation-modelling-and-mediation.html#cb185-1" tabindex="-1"></a><span class="fu">library</span>(semPlot)</span>
<span id="cb185-2"><a href="structural-equation-modelling-and-mediation.html#cb185-2" tabindex="-1"></a>my_layout <span class="ot">=</span> <span class="fu">matrix</span>(<span class="fu">c</span>(</span>
<span id="cb185-3"><a href="structural-equation-modelling-and-mediation.html#cb185-3" tabindex="-1"></a>  <span class="dv">3</span>, <span class="dv">0</span>,   <span class="co"># Predictor (bottom right)</span></span>
<span id="cb185-4"><a href="structural-equation-modelling-and-mediation.html#cb185-4" tabindex="-1"></a>  <span class="fl">1.5</span>, <span class="dv">3</span>,   <span class="co"># Mediator (middle top)</span></span>
<span id="cb185-5"><a href="structural-equation-modelling-and-mediation.html#cb185-5" tabindex="-1"></a>  <span class="dv">0</span>, <span class="dv">0</span>,   <span class="co"># Outcome (bottom left)</span></span>
<span id="cb185-6"><a href="structural-equation-modelling-and-mediation.html#cb185-6" tabindex="-1"></a>  <span class="fl">0.1</span>, <span class="dv">3</span>,   <span class="co"># Moderator (top right)</span></span>
<span id="cb185-7"><a href="structural-equation-modelling-and-mediation.html#cb185-7" tabindex="-1"></a>  <span class="fl">1.25</span>, <span class="sc">-</span><span class="fl">0.75</span> <span class="co"># Interaction (middle right)</span></span>
<span id="cb185-8"><a href="structural-equation-modelling-and-mediation.html#cb185-8" tabindex="-1"></a>), <span class="at">byrow =</span> <span class="cn">TRUE</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb185-9"><a href="structural-equation-modelling-and-mediation.html#cb185-9" tabindex="-1"></a></span>
<span id="cb185-10"><a href="structural-equation-modelling-and-mediation.html#cb185-10" tabindex="-1"></a><span class="co"># Create the path diagram</span></span>
<span id="cb185-11"><a href="structural-equation-modelling-and-mediation.html#cb185-11" tabindex="-1"></a><span class="fu">semPaths</span>(mymodel, </span>
<span id="cb185-12"><a href="structural-equation-modelling-and-mediation.html#cb185-12" tabindex="-1"></a>         <span class="at">what =</span> <span class="st">&quot;std&quot;</span>,  <span class="co"># Standardized estimates</span></span>
<span id="cb185-13"><a href="structural-equation-modelling-and-mediation.html#cb185-13" tabindex="-1"></a>         <span class="at">layout =</span> my_layout,  <span class="co"># Updated layout</span></span>
<span id="cb185-14"><a href="structural-equation-modelling-and-mediation.html#cb185-14" tabindex="-1"></a>         <span class="at">edge.label.cex =</span> <span class="fl">1.3</span>,  <span class="co"># Font size for estimates</span></span>
<span id="cb185-15"><a href="structural-equation-modelling-and-mediation.html#cb185-15" tabindex="-1"></a>         <span class="at">label.cex =</span> <span class="fl">1.2</span>,  <span class="co"># Font size for variable labels</span></span>
<span id="cb185-16"><a href="structural-equation-modelling-and-mediation.html#cb185-16" tabindex="-1"></a>         <span class="at">sizeMan =</span> <span class="dv">15</span>,  <span class="co"># Size of the boxes</span></span>
<span id="cb185-17"><a href="structural-equation-modelling-and-mediation.html#cb185-17" tabindex="-1"></a>         <span class="at">fade =</span> <span class="cn">FALSE</span>, </span>
<span id="cb185-18"><a href="structural-equation-modelling-and-mediation.html#cb185-18" tabindex="-1"></a>         <span class="at">residuals =</span> <span class="cn">FALSE</span>,  <span class="co"># Hide residual variances</span></span>
<span id="cb185-19"><a href="structural-equation-modelling-and-mediation.html#cb185-19" tabindex="-1"></a>         <span class="at">edge.color =</span> <span class="st">&quot;black&quot;</span>,  <span class="co"># Arrow color</span></span>
<span id="cb185-20"><a href="structural-equation-modelling-and-mediation.html#cb185-20" tabindex="-1"></a>         <span class="at">nCharNodes =</span> <span class="dv">0</span>,  <span class="co"># Show full variable names</span></span>
<span id="cb185-21"><a href="structural-equation-modelling-and-mediation.html#cb185-21" tabindex="-1"></a>         <span class="at">intercepts =</span> <span class="cn">FALSE</span>)  <span class="co"># Hide intercepts for clarity</span></span></code></pre></div>
<p><img src="08-Mediation_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div id="on-all-pathways" class="section level3 hasAnchor" number="8.3.1">
<h3><span class="header-section-number">8.3.1</span> On all pathways<a href="structural-equation-modelling-and-mediation.html#on-all-pathways" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>What if you decide on theory or other that a moderation is plausible on all pathways? This case is not that different from before, we just need to adjust all of our linear regressions. <strong>Note however, that you do not need both a2 * moderator and b2 * moderator, only one of two (as they are the same)</strong>. The indirect effect remains the same but now we need to adjust the formula. The (only) change lies in the direct effect which now has two forms: when the moderator has value 0 and when it has value 1. <strong>Remember to compute and include an interaction term for every path way in your dataset and use that within your SEM structure object</strong>.
<img src="images/Mediation/Mediation_5.png" /></p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="structural-equation-modelling-and-mediation.html#cb186-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">54321</span>)</span>
<span id="cb186-2"><a href="structural-equation-modelling-and-mediation.html#cb186-2" tabindex="-1"></a>n <span class="ot">=</span> <span class="dv">250</span>  <span class="co"># Sample size</span></span>
<span id="cb186-3"><a href="structural-equation-modelling-and-mediation.html#cb186-3" tabindex="-1"></a>cor_Y_X <span class="ot">=</span> <span class="fl">0.5</span> <span class="co"># correlation between outcome Y and predictor X </span></span>
<span id="cb186-4"><a href="structural-equation-modelling-and-mediation.html#cb186-4" tabindex="-1"></a>cor_Y_M <span class="ot">=</span> <span class="fl">0.6</span> <span class="co"># correlation between outcome Y and mediator M</span></span>
<span id="cb186-5"><a href="structural-equation-modelling-and-mediation.html#cb186-5" tabindex="-1"></a>cor_X_M <span class="ot">=</span> <span class="fl">0.7</span> <span class="co"># correlation between predictor X and mediator M</span></span>
<span id="cb186-6"><a href="structural-equation-modelling-and-mediation.html#cb186-6" tabindex="-1"></a></span>
<span id="cb186-7"><a href="structural-equation-modelling-and-mediation.html#cb186-7" tabindex="-1"></a></span>
<span id="cb186-8"><a href="structural-equation-modelling-and-mediation.html#cb186-8" tabindex="-1"></a>predictor <span class="ot">=</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">20</span>, <span class="at">sd =</span> <span class="dv">5</span>) <span class="co"># Create the predictor</span></span>
<span id="cb186-9"><a href="structural-equation-modelling-and-mediation.html#cb186-9" tabindex="-1"></a>mediator <span class="ot">=</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">15</span>, <span class="at">sd =</span> <span class="dv">3</span>) <span class="sc">+</span> (predictor <span class="sc">*</span> cor_X_M) </span>
<span id="cb186-10"><a href="structural-equation-modelling-and-mediation.html#cb186-10" tabindex="-1"></a>moderator <span class="ot">=</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="at">times=</span><span class="dv">125</span>)</span>
<span id="cb186-11"><a href="structural-equation-modelling-and-mediation.html#cb186-11" tabindex="-1"></a></span>
<span id="cb186-12"><a href="structural-equation-modelling-and-mediation.html#cb186-12" tabindex="-1"></a></span>
<span id="cb186-13"><a href="structural-equation-modelling-and-mediation.html#cb186-13" tabindex="-1"></a>mydata <span class="ot">=</span> <span class="fu">data.frame</span>(</span>
<span id="cb186-14"><a href="structural-equation-modelling-and-mediation.html#cb186-14" tabindex="-1"></a>  <span class="at">predictor =</span> predictor,</span>
<span id="cb186-15"><a href="structural-equation-modelling-and-mediation.html#cb186-15" tabindex="-1"></a>  <span class="at">mediator =</span> mediator, </span>
<span id="cb186-16"><a href="structural-equation-modelling-and-mediation.html#cb186-16" tabindex="-1"></a>  <span class="at">outcome =</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">25</span>, <span class="at">sd =</span> <span class="dv">7</span>) <span class="sc">+</span> (mediator <span class="sc">*</span> cor_Y_M) <span class="sc">+</span> (predictor <span class="sc">*</span> cor_Y_X), <span class="co"># Outcome that is associated with both the predictor and mediator</span></span>
<span id="cb186-17"><a href="structural-equation-modelling-and-mediation.html#cb186-17" tabindex="-1"></a>  <span class="at">moderator =</span> moderator,</span>
<span id="cb186-18"><a href="structural-equation-modelling-and-mediation.html#cb186-18" tabindex="-1"></a>  <span class="at">interaction_predictor_moderator =</span> moderator <span class="sc">*</span> predictor,</span>
<span id="cb186-19"><a href="structural-equation-modelling-and-mediation.html#cb186-19" tabindex="-1"></a>  <span class="at">interaction_mediator_outcome =</span> mediator <span class="sc">*</span> moderator,</span>
<span id="cb186-20"><a href="structural-equation-modelling-and-mediation.html#cb186-20" tabindex="-1"></a>  <span class="at">interaction_predictor_outcome =</span> predictor <span class="sc">*</span> moderator</span>
<span id="cb186-21"><a href="structural-equation-modelling-and-mediation.html#cb186-21" tabindex="-1"></a>  )</span>
<span id="cb186-22"><a href="structural-equation-modelling-and-mediation.html#cb186-22" tabindex="-1"></a></span>
<span id="cb186-23"><a href="structural-equation-modelling-and-mediation.html#cb186-23" tabindex="-1"></a>mystructure <span class="ot">=</span> <span class="st">&#39;</span></span>
<span id="cb186-24"><a href="structural-equation-modelling-and-mediation.html#cb186-24" tabindex="-1"></a></span>
<span id="cb186-25"><a href="structural-equation-modelling-and-mediation.html#cb186-25" tabindex="-1"></a><span class="st"># Direct relation</span></span>
<span id="cb186-26"><a href="structural-equation-modelling-and-mediation.html#cb186-26" tabindex="-1"></a></span>
<span id="cb186-27"><a href="structural-equation-modelling-and-mediation.html#cb186-27" tabindex="-1"></a><span class="st">  outcome ~ c1*predictor + c2*moderator + c3*interaction_predictor_outcome</span></span>
<span id="cb186-28"><a href="structural-equation-modelling-and-mediation.html#cb186-28" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb186-29"><a href="structural-equation-modelling-and-mediation.html#cb186-29" tabindex="-1"></a><span class="st"># Indirect relation:</span></span>
<span id="cb186-30"><a href="structural-equation-modelling-and-mediation.html#cb186-30" tabindex="-1"></a></span>
<span id="cb186-31"><a href="structural-equation-modelling-and-mediation.html#cb186-31" tabindex="-1"></a><span class="st">  mediator ~ a1*predictor + a2*moderator + a3*interaction_predictor_moderator</span></span>
<span id="cb186-32"><a href="structural-equation-modelling-and-mediation.html#cb186-32" tabindex="-1"></a><span class="st">  outcome ~ b1*mediator + b3*interaction_mediator_outcome # Note that there is no need for a b2*moderator term as this is captued in a2*moderator</span></span>
<span id="cb186-33"><a href="structural-equation-modelling-and-mediation.html#cb186-33" tabindex="-1"></a></span>
<span id="cb186-34"><a href="structural-equation-modelling-and-mediation.html#cb186-34" tabindex="-1"></a><span class="st"># indirect, direct, and total effects</span></span>
<span id="cb186-35"><a href="structural-equation-modelling-and-mediation.html#cb186-35" tabindex="-1"></a></span>
<span id="cb186-36"><a href="structural-equation-modelling-and-mediation.html#cb186-36" tabindex="-1"></a><span class="st">indirect_0 := (a1 + (a3*0)) * (b1 + (b3*0)) # when the moderator is zero</span></span>
<span id="cb186-37"><a href="structural-equation-modelling-and-mediation.html#cb186-37" tabindex="-1"></a><span class="st">indirect_1 := (a1 + (a3*1)) * (b1 + (b3*1)) # when the moderator is one</span></span>
<span id="cb186-38"><a href="structural-equation-modelling-and-mediation.html#cb186-38" tabindex="-1"></a></span>
<span id="cb186-39"><a href="structural-equation-modelling-and-mediation.html#cb186-39" tabindex="-1"></a><span class="st">direct_0 := c1 + (c3*0)</span></span>
<span id="cb186-40"><a href="structural-equation-modelling-and-mediation.html#cb186-40" tabindex="-1"></a><span class="st">direct_1 := c1 + (c3*1)</span></span>
<span id="cb186-41"><a href="structural-equation-modelling-and-mediation.html#cb186-41" tabindex="-1"></a></span>
<span id="cb186-42"><a href="structural-equation-modelling-and-mediation.html#cb186-42" tabindex="-1"></a><span class="st">total_0 := indirect_0 + direct_0 </span></span>
<span id="cb186-43"><a href="structural-equation-modelling-and-mediation.html#cb186-43" tabindex="-1"></a><span class="st">total_1 := indirect_1 + direct_1  </span></span>
<span id="cb186-44"><a href="structural-equation-modelling-and-mediation.html#cb186-44" tabindex="-1"></a><span class="st">&#39;</span></span>
<span id="cb186-45"><a href="structural-equation-modelling-and-mediation.html#cb186-45" tabindex="-1"></a></span>
<span id="cb186-46"><a href="structural-equation-modelling-and-mediation.html#cb186-46" tabindex="-1"></a>mymodel<span class="ot">=</span><span class="fu">sem</span>(mystructure,<span class="at">data=</span>mydata, <span class="at">se =</span> <span class="st">&quot;bootstrap&quot;</span>, <span class="at">iseed=</span><span class="dv">1234</span>, <span class="at">bootstrap =</span> <span class="dv">5</span>) <span class="co"># I take 5 bootstrap simulation but consider 500+ when doing it for real </span></span>
<span id="cb186-47"><a href="structural-equation-modelling-and-mediation.html#cb186-47" tabindex="-1"></a><span class="fu">summary</span>(mymodel,<span class="at">standardized=</span><span class="cn">TRUE</span>)</span>
<span id="cb186-48"><a href="structural-equation-modelling-and-mediation.html#cb186-48" tabindex="-1"></a><span class="co">#&gt; lavaan 0.6.16 did not run (perhaps do.fit = FALSE)?</span></span>
<span id="cb186-49"><a href="structural-equation-modelling-and-mediation.html#cb186-49" tabindex="-1"></a><span class="co">#&gt; ** </span><span class="al">WARNING</span><span class="co"> ** Estimates below are simply the starting values</span></span>
<span id="cb186-50"><a href="structural-equation-modelling-and-mediation.html#cb186-50" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb186-51"><a href="structural-equation-modelling-and-mediation.html#cb186-51" tabindex="-1"></a><span class="co">#&gt;   Estimator                                         ML</span></span>
<span id="cb186-52"><a href="structural-equation-modelling-and-mediation.html#cb186-52" tabindex="-1"></a><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span id="cb186-53"><a href="structural-equation-modelling-and-mediation.html#cb186-53" tabindex="-1"></a><span class="co">#&gt;   Number of model parameters                        10</span></span>
<span id="cb186-54"><a href="structural-equation-modelling-and-mediation.html#cb186-54" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb186-55"><a href="structural-equation-modelling-and-mediation.html#cb186-55" tabindex="-1"></a><span class="co">#&gt;   Number of observations                           250</span></span>
<span id="cb186-56"><a href="structural-equation-modelling-and-mediation.html#cb186-56" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb186-57"><a href="structural-equation-modelling-and-mediation.html#cb186-57" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb186-58"><a href="structural-equation-modelling-and-mediation.html#cb186-58" tabindex="-1"></a><span class="co">#&gt; Parameter Estimates:</span></span>
<span id="cb186-59"><a href="structural-equation-modelling-and-mediation.html#cb186-59" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb186-60"><a href="structural-equation-modelling-and-mediation.html#cb186-60" tabindex="-1"></a><span class="co">#&gt;   Standard errors                            Bootstrap</span></span>
<span id="cb186-61"><a href="structural-equation-modelling-and-mediation.html#cb186-61" tabindex="-1"></a><span class="co">#&gt;   Number of requested bootstrap draws                5</span></span>
<span id="cb186-62"><a href="structural-equation-modelling-and-mediation.html#cb186-62" tabindex="-1"></a><span class="co">#&gt;   Number of successful bootstrap draws               0</span></span>
<span id="cb186-63"><a href="structural-equation-modelling-and-mediation.html#cb186-63" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb186-64"><a href="structural-equation-modelling-and-mediation.html#cb186-64" tabindex="-1"></a><span class="co">#&gt; Regressions:</span></span>
<span id="cb186-65"><a href="structural-equation-modelling-and-mediation.html#cb186-65" tabindex="-1"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb186-66"><a href="structural-equation-modelling-and-mediation.html#cb186-66" tabindex="-1"></a><span class="co">#&gt;   outcome ~                                           </span></span>
<span id="cb186-67"><a href="structural-equation-modelling-and-mediation.html#cb186-67" tabindex="-1"></a><span class="co">#&gt;     predictor (c1)    0.339       NA                  </span></span>
<span id="cb186-68"><a href="structural-equation-modelling-and-mediation.html#cb186-68" tabindex="-1"></a><span class="co">#&gt;     moderator (c2)   -0.251       NA                  </span></span>
<span id="cb186-69"><a href="structural-equation-modelling-and-mediation.html#cb186-69" tabindex="-1"></a><span class="co">#&gt;     intrctn__ (c3)   -0.181       NA                  </span></span>
<span id="cb186-70"><a href="structural-equation-modelling-and-mediation.html#cb186-70" tabindex="-1"></a><span class="co">#&gt;   mediator ~                                          </span></span>
<span id="cb186-71"><a href="structural-equation-modelling-and-mediation.html#cb186-71" tabindex="-1"></a><span class="co">#&gt;     predictor (a1)    0.696       NA                  </span></span>
<span id="cb186-72"><a href="structural-equation-modelling-and-mediation.html#cb186-72" tabindex="-1"></a><span class="co">#&gt;     moderator (a2)    1.546       NA                  </span></span>
<span id="cb186-73"><a href="structural-equation-modelling-and-mediation.html#cb186-73" tabindex="-1"></a><span class="co">#&gt;     intrctn__ (a3)   -0.093       NA                  </span></span>
<span id="cb186-74"><a href="structural-equation-modelling-and-mediation.html#cb186-74" tabindex="-1"></a><span class="co">#&gt;   outcome ~                                           </span></span>
<span id="cb186-75"><a href="structural-equation-modelling-and-mediation.html#cb186-75" tabindex="-1"></a><span class="co">#&gt;     mediator  (b1)    0.694       NA                  </span></span>
<span id="cb186-76"><a href="structural-equation-modelling-and-mediation.html#cb186-76" tabindex="-1"></a><span class="co">#&gt;     intrctn__ (b3)    0.113       NA                  </span></span>
<span id="cb186-77"><a href="structural-equation-modelling-and-mediation.html#cb186-77" tabindex="-1"></a><span class="co">#&gt;    Std.lv  Std.all</span></span>
<span id="cb186-78"><a href="structural-equation-modelling-and-mediation.html#cb186-78" tabindex="-1"></a><span class="co">#&gt;                   </span></span>
<span id="cb186-79"><a href="structural-equation-modelling-and-mediation.html#cb186-79" tabindex="-1"></a><span class="co">#&gt;     0.339    0.207</span></span>
<span id="cb186-80"><a href="structural-equation-modelling-and-mediation.html#cb186-80" tabindex="-1"></a><span class="co">#&gt;    -0.251   -0.016</span></span>
<span id="cb186-81"><a href="structural-equation-modelling-and-mediation.html#cb186-81" tabindex="-1"></a><span class="co">#&gt;    -0.181   -0.244</span></span>
<span id="cb186-82"><a href="structural-equation-modelling-and-mediation.html#cb186-82" tabindex="-1"></a><span class="co">#&gt;                   </span></span>
<span id="cb186-83"><a href="structural-equation-modelling-and-mediation.html#cb186-83" tabindex="-1"></a><span class="co">#&gt;     0.696    0.770</span></span>
<span id="cb186-84"><a href="structural-equation-modelling-and-mediation.html#cb186-84" tabindex="-1"></a><span class="co">#&gt;     1.546    0.174</span></span>
<span id="cb186-85"><a href="structural-equation-modelling-and-mediation.html#cb186-85" tabindex="-1"></a><span class="co">#&gt;    -0.093   -0.226</span></span>
<span id="cb186-86"><a href="structural-equation-modelling-and-mediation.html#cb186-86" tabindex="-1"></a><span class="co">#&gt;                   </span></span>
<span id="cb186-87"><a href="structural-equation-modelling-and-mediation.html#cb186-87" tabindex="-1"></a><span class="co">#&gt;     0.694    0.383</span></span>
<span id="cb186-88"><a href="structural-equation-modelling-and-mediation.html#cb186-88" tabindex="-1"></a><span class="co">#&gt;     0.113    0.209</span></span>
<span id="cb186-89"><a href="structural-equation-modelling-and-mediation.html#cb186-89" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb186-90"><a href="structural-equation-modelling-and-mediation.html#cb186-90" tabindex="-1"></a><span class="co">#&gt; Variances:</span></span>
<span id="cb186-91"><a href="structural-equation-modelling-and-mediation.html#cb186-91" tabindex="-1"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb186-92"><a href="structural-equation-modelling-and-mediation.html#cb186-92" tabindex="-1"></a><span class="co">#&gt;    .outcome          47.201       NA                  </span></span>
<span id="cb186-93"><a href="structural-equation-modelling-and-mediation.html#cb186-93" tabindex="-1"></a><span class="co">#&gt;    .mediator          9.618       NA                  </span></span>
<span id="cb186-94"><a href="structural-equation-modelling-and-mediation.html#cb186-94" tabindex="-1"></a><span class="co">#&gt;    Std.lv  Std.all</span></span>
<span id="cb186-95"><a href="structural-equation-modelling-and-mediation.html#cb186-95" tabindex="-1"></a><span class="co">#&gt;    47.201    0.729</span></span>
<span id="cb186-96"><a href="structural-equation-modelling-and-mediation.html#cb186-96" tabindex="-1"></a><span class="co">#&gt;     9.618    0.488</span></span>
<span id="cb186-97"><a href="structural-equation-modelling-and-mediation.html#cb186-97" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb186-98"><a href="structural-equation-modelling-and-mediation.html#cb186-98" tabindex="-1"></a><span class="co">#&gt; Defined Parameters:</span></span>
<span id="cb186-99"><a href="structural-equation-modelling-and-mediation.html#cb186-99" tabindex="-1"></a><span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb186-100"><a href="structural-equation-modelling-and-mediation.html#cb186-100" tabindex="-1"></a><span class="co">#&gt;     indirect_0        0.483                           </span></span>
<span id="cb186-101"><a href="structural-equation-modelling-and-mediation.html#cb186-101" tabindex="-1"></a><span class="co">#&gt;     indirect_1        0.487                           </span></span>
<span id="cb186-102"><a href="structural-equation-modelling-and-mediation.html#cb186-102" tabindex="-1"></a><span class="co">#&gt;     direct_0          0.339                           </span></span>
<span id="cb186-103"><a href="structural-equation-modelling-and-mediation.html#cb186-103" tabindex="-1"></a><span class="co">#&gt;     direct_1          0.158                           </span></span>
<span id="cb186-104"><a href="structural-equation-modelling-and-mediation.html#cb186-104" tabindex="-1"></a><span class="co">#&gt;     total_0           0.822                           </span></span>
<span id="cb186-105"><a href="structural-equation-modelling-and-mediation.html#cb186-105" tabindex="-1"></a><span class="co">#&gt;     total_1           0.645                           </span></span>
<span id="cb186-106"><a href="structural-equation-modelling-and-mediation.html#cb186-106" tabindex="-1"></a><span class="co">#&gt;    Std.lv  Std.all</span></span>
<span id="cb186-107"><a href="structural-equation-modelling-and-mediation.html#cb186-107" tabindex="-1"></a><span class="co">#&gt;     0.483    0.295</span></span>
<span id="cb186-108"><a href="structural-equation-modelling-and-mediation.html#cb186-108" tabindex="-1"></a><span class="co">#&gt;     0.487    0.322</span></span>
<span id="cb186-109"><a href="structural-equation-modelling-and-mediation.html#cb186-109" tabindex="-1"></a><span class="co">#&gt;     0.339    0.207</span></span>
<span id="cb186-110"><a href="structural-equation-modelling-and-mediation.html#cb186-110" tabindex="-1"></a><span class="co">#&gt;     0.158   -0.037</span></span>
<span id="cb186-111"><a href="structural-equation-modelling-and-mediation.html#cb186-111" tabindex="-1"></a><span class="co">#&gt;     0.822    0.502</span></span>
<span id="cb186-112"><a href="structural-equation-modelling-and-mediation.html#cb186-112" tabindex="-1"></a><span class="co">#&gt;     0.645    0.285</span></span></code></pre></div>
</div>
<div id="using-a-continuous-moderator" class="section level3 hasAnchor" number="8.3.2">
<h3><span class="header-section-number">8.3.2</span> Using a continuous moderator<a href="structural-equation-modelling-and-mediation.html#using-a-continuous-moderator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For my final example on a moderated mediation, we have a continuous moderator that moderates path “c” and path “b”. We will not encounter something that we have not seen before. However, remember that we defined multiple (in)direct effects depending on the values of the moderator? Now that we have a continuous moderator, we we will need to decide what values we want to include and how many. Remind yourself that every included moderator value is a pair of extra (in)direct effects to be estimated, hence taxing on the statistical power.</p>
<p>In this example I will include three values of the moderator: “low” (i.e., a standard deviation below its mean); “moderate” (its mean), and “high” (i.e., a standard deviation above its mean). To include these values within my SEM model structure, I could add them to my dataset beforehand <strong>or</strong> I could compute them while inside the SEM structure. I will demonstrate the latter. To define and use the mean of the moderator, I add an additional regression in which the moderator is predicted by the intercept without any other predictors (<strong>hence the intercept will be the mean</strong>). I now simply have to give this intercept a name so that I can use it later (like with my letter a,b, and c) to define the (in)direct effects.</p>
<p>To get the variance of the moderator, remember from confirmatory factor analysis that the notation <strong>~~</strong> defines a covariance within the SEM model structure? Well, if I let the moderator co-vary with itself, I get the variance and if give a name to this variance, I can use it later on to define the (in)direct effect. With both the mean and variance defined, I can now define a standard deviation below or above the mean. <strong>Note that I will need to take the square root of the variance</strong>, which can be easily done within the SEM model structure.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="structural-equation-modelling-and-mediation.html#cb187-1" tabindex="-1"></a></span>
<span id="cb187-2"><a href="structural-equation-modelling-and-mediation.html#cb187-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">54321</span>)</span>
<span id="cb187-3"><a href="structural-equation-modelling-and-mediation.html#cb187-3" tabindex="-1"></a>n <span class="ot">=</span> <span class="dv">250</span>  <span class="co"># Sample size</span></span>
<span id="cb187-4"><a href="structural-equation-modelling-and-mediation.html#cb187-4" tabindex="-1"></a>cor_Y_X <span class="ot">=</span> <span class="fl">0.5</span> <span class="co"># correlation between outcome Y and predictor X </span></span>
<span id="cb187-5"><a href="structural-equation-modelling-and-mediation.html#cb187-5" tabindex="-1"></a>cor_Y_M <span class="ot">=</span> <span class="fl">0.6</span> <span class="co"># correlation between outcome Y and mediator M</span></span>
<span id="cb187-6"><a href="structural-equation-modelling-and-mediation.html#cb187-6" tabindex="-1"></a>cor_X_M <span class="ot">=</span> <span class="fl">0.7</span> <span class="co"># correlation between predictor X and mediator M</span></span>
<span id="cb187-7"><a href="structural-equation-modelling-and-mediation.html#cb187-7" tabindex="-1"></a></span>
<span id="cb187-8"><a href="structural-equation-modelling-and-mediation.html#cb187-8" tabindex="-1"></a></span>
<span id="cb187-9"><a href="structural-equation-modelling-and-mediation.html#cb187-9" tabindex="-1"></a>predictor <span class="ot">=</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">20</span>, <span class="at">sd =</span> <span class="dv">5</span>) <span class="co"># Create the predictor</span></span>
<span id="cb187-10"><a href="structural-equation-modelling-and-mediation.html#cb187-10" tabindex="-1"></a>mediator <span class="ot">=</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">15</span>, <span class="at">sd =</span> <span class="dv">3</span>) <span class="sc">+</span> (predictor <span class="sc">*</span> cor_X_M) <span class="co"># Create a mediator that is associated with the above predictor </span></span>
<span id="cb187-11"><a href="structural-equation-modelling-and-mediation.html#cb187-11" tabindex="-1"></a>moderator <span class="ot">=</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">17</span>, <span class="at">sd =</span> <span class="dv">4</span> )</span>
<span id="cb187-12"><a href="structural-equation-modelling-and-mediation.html#cb187-12" tabindex="-1"></a>outcome <span class="ot">=</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">25</span>, <span class="at">sd =</span> <span class="dv">7</span>) <span class="sc">+</span> (mediator <span class="sc">*</span> cor_Y_M) <span class="sc">+</span> (predictor <span class="sc">*</span> cor_Y_X)</span>
<span id="cb187-13"><a href="structural-equation-modelling-and-mediation.html#cb187-13" tabindex="-1"></a></span>
<span id="cb187-14"><a href="structural-equation-modelling-and-mediation.html#cb187-14" tabindex="-1"></a></span>
<span id="cb187-15"><a href="structural-equation-modelling-and-mediation.html#cb187-15" tabindex="-1"></a>mydata <span class="ot">=</span> <span class="fu">data.frame</span>(</span>
<span id="cb187-16"><a href="structural-equation-modelling-and-mediation.html#cb187-16" tabindex="-1"></a>  <span class="at">predictor =</span> predictor,</span>
<span id="cb187-17"><a href="structural-equation-modelling-and-mediation.html#cb187-17" tabindex="-1"></a>  <span class="at">mediator =</span> mediator, </span>
<span id="cb187-18"><a href="structural-equation-modelling-and-mediation.html#cb187-18" tabindex="-1"></a>  <span class="at">outcome =</span> outcome, <span class="co"># Outcome that is associated with both the predictor and mediator</span></span>
<span id="cb187-19"><a href="structural-equation-modelling-and-mediation.html#cb187-19" tabindex="-1"></a>  <span class="at">moderator =</span> moderator,</span>
<span id="cb187-20"><a href="structural-equation-modelling-and-mediation.html#cb187-20" tabindex="-1"></a>  <span class="at">interaction_mediator_outcome =</span> moderator <span class="sc">*</span> mediator,</span>
<span id="cb187-21"><a href="structural-equation-modelling-and-mediation.html#cb187-21" tabindex="-1"></a>  <span class="at">interaction_predictor_outcome =</span> predictor <span class="sc">*</span> moderator</span>
<span id="cb187-22"><a href="structural-equation-modelling-and-mediation.html#cb187-22" tabindex="-1"></a>  )</span>
<span id="cb187-23"><a href="structural-equation-modelling-and-mediation.html#cb187-23" tabindex="-1"></a></span>
<span id="cb187-24"><a href="structural-equation-modelling-and-mediation.html#cb187-24" tabindex="-1"></a>mystructure <span class="ot">=</span> <span class="st">&#39;</span></span>
<span id="cb187-25"><a href="structural-equation-modelling-and-mediation.html#cb187-25" tabindex="-1"></a></span>
<span id="cb187-26"><a href="structural-equation-modelling-and-mediation.html#cb187-26" tabindex="-1"></a></span>
<span id="cb187-27"><a href="structural-equation-modelling-and-mediation.html#cb187-27" tabindex="-1"></a><span class="st"># Mean and SD to be used to compute indirect and direct effect</span></span>
<span id="cb187-28"><a href="structural-equation-modelling-and-mediation.html#cb187-28" tabindex="-1"></a></span>
<span id="cb187-29"><a href="structural-equation-modelling-and-mediation.html#cb187-29" tabindex="-1"></a><span class="st">  moderator ~ moderator_mean*1 # to define and use the intercept of the moderator/the mean</span></span>
<span id="cb187-30"><a href="structural-equation-modelling-and-mediation.html#cb187-30" tabindex="-1"></a><span class="st">  moderator ~~ moderator_var*moderator # to define use the variance of the moderator</span></span>
<span id="cb187-31"><a href="structural-equation-modelling-and-mediation.html#cb187-31" tabindex="-1"></a></span>
<span id="cb187-32"><a href="structural-equation-modelling-and-mediation.html#cb187-32" tabindex="-1"></a></span>
<span id="cb187-33"><a href="structural-equation-modelling-and-mediation.html#cb187-33" tabindex="-1"></a><span class="st"># Direct relation</span></span>
<span id="cb187-34"><a href="structural-equation-modelling-and-mediation.html#cb187-34" tabindex="-1"></a></span>
<span id="cb187-35"><a href="structural-equation-modelling-and-mediation.html#cb187-35" tabindex="-1"></a><span class="st">  outcome ~ c1*predictor + c2*moderator + c3*interaction_predictor_outcome</span></span>
<span id="cb187-36"><a href="structural-equation-modelling-and-mediation.html#cb187-36" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb187-37"><a href="structural-equation-modelling-and-mediation.html#cb187-37" tabindex="-1"></a><span class="st"># Indirect relation:</span></span>
<span id="cb187-38"><a href="structural-equation-modelling-and-mediation.html#cb187-38" tabindex="-1"></a></span>
<span id="cb187-39"><a href="structural-equation-modelling-and-mediation.html#cb187-39" tabindex="-1"></a><span class="st">  mediator ~ a*predictor</span></span>
<span id="cb187-40"><a href="structural-equation-modelling-and-mediation.html#cb187-40" tabindex="-1"></a><span class="st">  outcome ~ b1*mediator + b3*interaction_mediator_outcome # Note that there is no need for a b2*moderator term as this is captued in a2*moderator</span></span>
<span id="cb187-41"><a href="structural-equation-modelling-and-mediation.html#cb187-41" tabindex="-1"></a></span>
<span id="cb187-42"><a href="structural-equation-modelling-and-mediation.html#cb187-42" tabindex="-1"></a></span>
<span id="cb187-43"><a href="structural-equation-modelling-and-mediation.html#cb187-43" tabindex="-1"></a><span class="st"># indirect, direct, and total effects</span></span>
<span id="cb187-44"><a href="structural-equation-modelling-and-mediation.html#cb187-44" tabindex="-1"></a></span>
<span id="cb187-45"><a href="structural-equation-modelling-and-mediation.html#cb187-45" tabindex="-1"></a><span class="st">indirect_low := a * (b1 + b3*(moderator_mean - sqrt(moderator_var)))         # when the moderator is zero</span></span>
<span id="cb187-46"><a href="structural-equation-modelling-and-mediation.html#cb187-46" tabindex="-1"></a><span class="st">indirect_moderate :=  a * (b1 + (b3*moderator_mean))</span></span>
<span id="cb187-47"><a href="structural-equation-modelling-and-mediation.html#cb187-47" tabindex="-1"></a><span class="st">indirect_high := a * (b1 + b3*(moderator_mean + sqrt(moderator_var))) </span></span>
<span id="cb187-48"><a href="structural-equation-modelling-and-mediation.html#cb187-48" tabindex="-1"></a></span>
<span id="cb187-49"><a href="structural-equation-modelling-and-mediation.html#cb187-49" tabindex="-1"></a><span class="st">direct_low := c1 + c3*(moderator_mean - sqrt(moderator_var))</span></span>
<span id="cb187-50"><a href="structural-equation-modelling-and-mediation.html#cb187-50" tabindex="-1"></a><span class="st">direct_moderate := c1 + c3*moderator_mean</span></span>
<span id="cb187-51"><a href="structural-equation-modelling-and-mediation.html#cb187-51" tabindex="-1"></a><span class="st">direct_high := c1 + c3*(moderator_mean + sqrt(moderator_var))</span></span>
<span id="cb187-52"><a href="structural-equation-modelling-and-mediation.html#cb187-52" tabindex="-1"></a></span>
<span id="cb187-53"><a href="structural-equation-modelling-and-mediation.html#cb187-53" tabindex="-1"></a><span class="st">total_low := indirect_low + direct_low </span></span>
<span id="cb187-54"><a href="structural-equation-modelling-and-mediation.html#cb187-54" tabindex="-1"></a><span class="st">total_moderate := indirect_moderate + direct_moderate </span></span>
<span id="cb187-55"><a href="structural-equation-modelling-and-mediation.html#cb187-55" tabindex="-1"></a><span class="st">total_high := indirect_high + direct_high</span></span>
<span id="cb187-56"><a href="structural-equation-modelling-and-mediation.html#cb187-56" tabindex="-1"></a></span>
<span id="cb187-57"><a href="structural-equation-modelling-and-mediation.html#cb187-57" tabindex="-1"></a><span class="st">&#39;</span></span>
<span id="cb187-58"><a href="structural-equation-modelling-and-mediation.html#cb187-58" tabindex="-1"></a></span>
<span id="cb187-59"><a href="structural-equation-modelling-and-mediation.html#cb187-59" tabindex="-1"></a>mymodel<span class="ot">=</span><span class="fu">sem</span>(mystructure,<span class="at">data=</span>mydata, <span class="at">se =</span> <span class="st">&quot;bootstrap&quot;</span>, <span class="at">iseed=</span><span class="dv">1234</span>, <span class="at">bootstrap =</span> <span class="dv">5</span>) <span class="co"># I take 5 bootstrap simulation but consider 500+ when doing it for real </span></span>
<span id="cb187-60"><a href="structural-equation-modelling-and-mediation.html#cb187-60" tabindex="-1"></a><span class="fu">summary</span>(mymodel,<span class="at">standardized=</span><span class="cn">TRUE</span>)</span>
<span id="cb187-61"><a href="structural-equation-modelling-and-mediation.html#cb187-61" tabindex="-1"></a><span class="co">#&gt; lavaan 0.6.16 ended normally after 13 iterations</span></span>
<span id="cb187-62"><a href="structural-equation-modelling-and-mediation.html#cb187-62" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb187-63"><a href="structural-equation-modelling-and-mediation.html#cb187-63" tabindex="-1"></a><span class="co">#&gt;   Estimator                                         ML</span></span>
<span id="cb187-64"><a href="structural-equation-modelling-and-mediation.html#cb187-64" tabindex="-1"></a><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span id="cb187-65"><a href="structural-equation-modelling-and-mediation.html#cb187-65" tabindex="-1"></a><span class="co">#&gt;   Number of model parameters                        12</span></span>
<span id="cb187-66"><a href="structural-equation-modelling-and-mediation.html#cb187-66" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb187-67"><a href="structural-equation-modelling-and-mediation.html#cb187-67" tabindex="-1"></a><span class="co">#&gt;   Number of observations                           250</span></span>
<span id="cb187-68"><a href="structural-equation-modelling-and-mediation.html#cb187-68" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb187-69"><a href="structural-equation-modelling-and-mediation.html#cb187-69" tabindex="-1"></a><span class="co">#&gt; Model Test User Model:</span></span>
<span id="cb187-70"><a href="structural-equation-modelling-and-mediation.html#cb187-70" tabindex="-1"></a><span class="co">#&gt;                                                       </span></span>
<span id="cb187-71"><a href="structural-equation-modelling-and-mediation.html#cb187-71" tabindex="-1"></a><span class="co">#&gt;   Test statistic                              1502.466</span></span>
<span id="cb187-72"><a href="structural-equation-modelling-and-mediation.html#cb187-72" tabindex="-1"></a><span class="co">#&gt;   Degrees of freedom                                 6</span></span>
<span id="cb187-73"><a href="structural-equation-modelling-and-mediation.html#cb187-73" tabindex="-1"></a><span class="co">#&gt;   P-value (Chi-square)                           0.000</span></span>
<span id="cb187-74"><a href="structural-equation-modelling-and-mediation.html#cb187-74" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb187-75"><a href="structural-equation-modelling-and-mediation.html#cb187-75" tabindex="-1"></a><span class="co">#&gt; Parameter Estimates:</span></span>
<span id="cb187-76"><a href="structural-equation-modelling-and-mediation.html#cb187-76" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb187-77"><a href="structural-equation-modelling-and-mediation.html#cb187-77" tabindex="-1"></a><span class="co">#&gt;   Standard errors                            Bootstrap</span></span>
<span id="cb187-78"><a href="structural-equation-modelling-and-mediation.html#cb187-78" tabindex="-1"></a><span class="co">#&gt;   Number of requested bootstrap draws                5</span></span>
<span id="cb187-79"><a href="structural-equation-modelling-and-mediation.html#cb187-79" tabindex="-1"></a><span class="co">#&gt;   Number of successful bootstrap draws               5</span></span>
<span id="cb187-80"><a href="structural-equation-modelling-and-mediation.html#cb187-80" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb187-81"><a href="structural-equation-modelling-and-mediation.html#cb187-81" tabindex="-1"></a><span class="co">#&gt; Regressions:</span></span>
<span id="cb187-82"><a href="structural-equation-modelling-and-mediation.html#cb187-82" tabindex="-1"></a><span class="co">#&gt;                    Estimate   Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb187-83"><a href="structural-equation-modelling-and-mediation.html#cb187-83" tabindex="-1"></a><span class="co">#&gt;   outcome ~                                            </span></span>
<span id="cb187-84"><a href="structural-equation-modelling-and-mediation.html#cb187-84" tabindex="-1"></a><span class="co">#&gt;     predictor (c1)     1.114    0.547    2.039    0.041</span></span>
<span id="cb187-85"><a href="structural-equation-modelling-and-mediation.html#cb187-85" tabindex="-1"></a><span class="co">#&gt;     moderator (c2)    -0.994    0.753   -1.321    0.186</span></span>
<span id="cb187-86"><a href="structural-equation-modelling-and-mediation.html#cb187-86" tabindex="-1"></a><span class="co">#&gt;     intrctn__ (c3)    -0.044    0.034   -1.288    0.198</span></span>
<span id="cb187-87"><a href="structural-equation-modelling-and-mediation.html#cb187-87" tabindex="-1"></a><span class="co">#&gt;   mediator ~                                           </span></span>
<span id="cb187-88"><a href="structural-equation-modelling-and-mediation.html#cb187-88" tabindex="-1"></a><span class="co">#&gt;     predictor  (a)     0.644    0.033   19.350    0.000</span></span>
<span id="cb187-89"><a href="structural-equation-modelling-and-mediation.html#cb187-89" tabindex="-1"></a><span class="co">#&gt;   outcome ~                                            </span></span>
<span id="cb187-90"><a href="structural-equation-modelling-and-mediation.html#cb187-90" tabindex="-1"></a><span class="co">#&gt;     mediator  (b1)    -0.360    0.766   -0.470    0.639</span></span>
<span id="cb187-91"><a href="structural-equation-modelling-and-mediation.html#cb187-91" tabindex="-1"></a><span class="co">#&gt;     intrctn__ (b3)     0.058    0.042    1.379    0.168</span></span>
<span id="cb187-92"><a href="structural-equation-modelling-and-mediation.html#cb187-92" tabindex="-1"></a><span class="co">#&gt;    Std.lv   Std.all</span></span>
<span id="cb187-93"><a href="structural-equation-modelling-and-mediation.html#cb187-93" tabindex="-1"></a><span class="co">#&gt;                    </span></span>
<span id="cb187-94"><a href="structural-equation-modelling-and-mediation.html#cb187-94" tabindex="-1"></a><span class="co">#&gt;      1.114    0.551</span></span>
<span id="cb187-95"><a href="structural-equation-modelling-and-mediation.html#cb187-95" tabindex="-1"></a><span class="co">#&gt;     -0.994   -0.398</span></span>
<span id="cb187-96"><a href="structural-equation-modelling-and-mediation.html#cb187-96" tabindex="-1"></a><span class="co">#&gt;     -0.044   -0.470</span></span>
<span id="cb187-97"><a href="structural-equation-modelling-and-mediation.html#cb187-97" tabindex="-1"></a><span class="co">#&gt;                    </span></span>
<span id="cb187-98"><a href="structural-equation-modelling-and-mediation.html#cb187-98" tabindex="-1"></a><span class="co">#&gt;      0.644    0.713</span></span>
<span id="cb187-99"><a href="structural-equation-modelling-and-mediation.html#cb187-99" tabindex="-1"></a><span class="co">#&gt;                    </span></span>
<span id="cb187-100"><a href="structural-equation-modelling-and-mediation.html#cb187-100" tabindex="-1"></a><span class="co">#&gt;     -0.360   -0.161</span></span>
<span id="cb187-101"><a href="structural-equation-modelling-and-mediation.html#cb187-101" tabindex="-1"></a><span class="co">#&gt;      0.058    0.783</span></span>
<span id="cb187-102"><a href="structural-equation-modelling-and-mediation.html#cb187-102" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb187-103"><a href="structural-equation-modelling-and-mediation.html#cb187-103" tabindex="-1"></a><span class="co">#&gt; Intercepts:</span></span>
<span id="cb187-104"><a href="structural-equation-modelling-and-mediation.html#cb187-104" tabindex="-1"></a><span class="co">#&gt;                    Estimate   Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb187-105"><a href="structural-equation-modelling-and-mediation.html#cb187-105" tabindex="-1"></a><span class="co">#&gt;     modertr (mdr_)    16.663    0.211   79.066    0.000</span></span>
<span id="cb187-106"><a href="structural-equation-modelling-and-mediation.html#cb187-106" tabindex="-1"></a><span class="co">#&gt;    .outcome           43.243   14.415    3.000    0.003</span></span>
<span id="cb187-107"><a href="structural-equation-modelling-and-mediation.html#cb187-107" tabindex="-1"></a><span class="co">#&gt;    .mediatr           15.996    0.847   18.877    0.000</span></span>
<span id="cb187-108"><a href="structural-equation-modelling-and-mediation.html#cb187-108" tabindex="-1"></a><span class="co">#&gt;    Std.lv   Std.all</span></span>
<span id="cb187-109"><a href="structural-equation-modelling-and-mediation.html#cb187-109" tabindex="-1"></a><span class="co">#&gt;     16.663    4.196</span></span>
<span id="cb187-110"><a href="structural-equation-modelling-and-mediation.html#cb187-110" tabindex="-1"></a><span class="co">#&gt;     43.243    4.354</span></span>
<span id="cb187-111"><a href="structural-equation-modelling-and-mediation.html#cb187-111" tabindex="-1"></a><span class="co">#&gt;     15.996    3.603</span></span>
<span id="cb187-112"><a href="structural-equation-modelling-and-mediation.html#cb187-112" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb187-113"><a href="structural-equation-modelling-and-mediation.html#cb187-113" tabindex="-1"></a><span class="co">#&gt; Variances:</span></span>
<span id="cb187-114"><a href="structural-equation-modelling-and-mediation.html#cb187-114" tabindex="-1"></a><span class="co">#&gt;                    Estimate   Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb187-115"><a href="structural-equation-modelling-and-mediation.html#cb187-115" tabindex="-1"></a><span class="co">#&gt;     modertr (mdr_)    15.772    2.083    7.570    0.000</span></span>
<span id="cb187-116"><a href="structural-equation-modelling-and-mediation.html#cb187-116" tabindex="-1"></a><span class="co">#&gt;    .outcome           49.139    2.438   20.154    0.000</span></span>
<span id="cb187-117"><a href="structural-equation-modelling-and-mediation.html#cb187-117" tabindex="-1"></a><span class="co">#&gt;    .mediatr            9.689    0.684   14.163    0.000</span></span>
<span id="cb187-118"><a href="structural-equation-modelling-and-mediation.html#cb187-118" tabindex="-1"></a><span class="co">#&gt;    Std.lv   Std.all</span></span>
<span id="cb187-119"><a href="structural-equation-modelling-and-mediation.html#cb187-119" tabindex="-1"></a><span class="co">#&gt;     15.772    1.000</span></span>
<span id="cb187-120"><a href="structural-equation-modelling-and-mediation.html#cb187-120" tabindex="-1"></a><span class="co">#&gt;     49.139    0.498</span></span>
<span id="cb187-121"><a href="structural-equation-modelling-and-mediation.html#cb187-121" tabindex="-1"></a><span class="co">#&gt;      9.689    0.491</span></span>
<span id="cb187-122"><a href="structural-equation-modelling-and-mediation.html#cb187-122" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb187-123"><a href="structural-equation-modelling-and-mediation.html#cb187-123" tabindex="-1"></a><span class="co">#&gt; Defined Parameters:</span></span>
<span id="cb187-124"><a href="structural-equation-modelling-and-mediation.html#cb187-124" tabindex="-1"></a><span class="co">#&gt;                    Estimate   Std.Err  z-value  P(&gt;|z|)</span></span>
<span id="cb187-125"><a href="structural-equation-modelling-and-mediation.html#cb187-125" tabindex="-1"></a><span class="co">#&gt;     indirect_low       0.238    0.205    1.163    0.245</span></span>
<span id="cb187-126"><a href="structural-equation-modelling-and-mediation.html#cb187-126" tabindex="-1"></a><span class="co">#&gt;     indirect_modrt     0.386    0.098    3.916    0.000</span></span>
<span id="cb187-127"><a href="structural-equation-modelling-and-mediation.html#cb187-127" tabindex="-1"></a><span class="co">#&gt;     indirect_high      0.533    0.133    4.011    0.000</span></span>
<span id="cb187-128"><a href="structural-equation-modelling-and-mediation.html#cb187-128" tabindex="-1"></a><span class="co">#&gt;     direct_low         0.560    0.167    3.349    0.001</span></span>
<span id="cb187-129"><a href="structural-equation-modelling-and-mediation.html#cb187-129" tabindex="-1"></a><span class="co">#&gt;     direct_moderat     0.387    0.087    4.469    0.000</span></span>
<span id="cb187-130"><a href="structural-equation-modelling-and-mediation.html#cb187-130" tabindex="-1"></a><span class="co">#&gt;     direct_high        0.214    0.202    1.059    0.289</span></span>
<span id="cb187-131"><a href="structural-equation-modelling-and-mediation.html#cb187-131" tabindex="-1"></a><span class="co">#&gt;     total_low          0.799    0.080   10.037    0.000</span></span>
<span id="cb187-132"><a href="structural-equation-modelling-and-mediation.html#cb187-132" tabindex="-1"></a><span class="co">#&gt;     total_moderate     0.772    0.032   23.942    0.000</span></span>
<span id="cb187-133"><a href="structural-equation-modelling-and-mediation.html#cb187-133" tabindex="-1"></a><span class="co">#&gt;     total_high         0.746    0.095    7.827    0.000</span></span>
<span id="cb187-134"><a href="structural-equation-modelling-and-mediation.html#cb187-134" tabindex="-1"></a><span class="co">#&gt;    Std.lv   Std.all</span></span>
<span id="cb187-135"><a href="structural-equation-modelling-and-mediation.html#cb187-135" tabindex="-1"></a><span class="co">#&gt;      0.238    1.669</span></span>
<span id="cb187-136"><a href="structural-equation-modelling-and-mediation.html#cb187-136" tabindex="-1"></a><span class="co">#&gt;      0.386    2.228</span></span>
<span id="cb187-137"><a href="structural-equation-modelling-and-mediation.html#cb187-137" tabindex="-1"></a><span class="co">#&gt;      0.533    2.786</span></span>
<span id="cb187-138"><a href="structural-equation-modelling-and-mediation.html#cb187-138" tabindex="-1"></a><span class="co">#&gt;      0.560   -0.952</span></span>
<span id="cb187-139"><a href="structural-equation-modelling-and-mediation.html#cb187-139" tabindex="-1"></a><span class="co">#&gt;      0.387   -1.422</span></span>
<span id="cb187-140"><a href="structural-equation-modelling-and-mediation.html#cb187-140" tabindex="-1"></a><span class="co">#&gt;      0.214   -1.893</span></span>
<span id="cb187-141"><a href="structural-equation-modelling-and-mediation.html#cb187-141" tabindex="-1"></a><span class="co">#&gt;      0.799    0.717</span></span>
<span id="cb187-142"><a href="structural-equation-modelling-and-mediation.html#cb187-142" tabindex="-1"></a><span class="co">#&gt;      0.772    0.805</span></span>
<span id="cb187-143"><a href="structural-equation-modelling-and-mediation.html#cb187-143" tabindex="-1"></a><span class="co">#&gt;      0.746    0.893</span></span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="anova.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-data-and-multiple-imputation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
